(function(g,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue"),require("@inertiajs/vue3"),require("@inertiajs/core"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3","@inertiajs/core","axios"],r):(g=typeof globalThis<"u"?globalThis:g||self,r(g.InertiaUIModal={},g.vue,g.vue3,g.core,g.Axios))})(this,function(g,r,F,Ue,H){"use strict";var Ht=Object.defineProperty;var Zt=(g,r,F)=>r in g?Ht(g,r,{enumerable:!0,configurable:!0,writable:!0,value:F}):g[r]=F;var B=(g,r,F)=>Zt(g,typeof r!="symbol"?r+"":r,F);const U={type:"modal",navigate:!1,modal:{closeButton:!0,closeExplicitly:!1,maxWidth:"2xl",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white rounded",position:"center"},slideover:{closeButton:!0,closeExplicitly:!1,maxWidth:"md",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white min-h-screen",position:"right"}};class We{constructor(){this.config={},this.reset()}reset(){this.config=JSON.parse(JSON.stringify(U))}put(e,t){if(typeof e=="object"){this.config={type:e.type??U.type,navigate:e.navigate??U.navigate,modal:{...U.modal,...e.modal??{}},slideover:{...U.slideover,...e.slideover??{}}};return}const a=e.split(".");let l=this.config;for(let i=0;i<a.length-1;i++)l=l[a[i]]=l[a[i]]||{};l[a[a.length-1]]=t}get(e){if(typeof e>"u")return this.config;const t=e.split(".");let a=this.config;for(const l of t){if(a[l]===void 0)return null;a=a[l]}return a}}const Z=new We,Ve=()=>Z.reset(),$e=(n,e)=>Z.put(n,e),Y=n=>Z.get(n),D=(n,e)=>Z.get(n?`slideover.${e}`:`modal.${e}`),ve={modifiedElements:[],bodyState:{hasOverflowHidden:!1,hasPointerEventsNone:!1,originalPaddingRight:""},prepare(){const n=window.innerWidth-document.documentElement.clientWidth;this.bodyState.originalPaddingRight=document.body.style.paddingRight;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10);document.body.style.paddingRight=`${e+n}px`,document.body.classList.contains("overflow-hidden")||(document.body.classList.add("overflow-hidden"),this.bodyState.hasOverflowHidden=!0),document.body.classList.contains("pointer-events-none")||(document.body.classList.add("pointer-events-none"),this.bodyState.hasPointerEventsNone=!0),Array.from(document.body.children).forEach(t=>{!t.classList.contains("im-dialog")&&t.getAttribute("aria-hidden")!=="true"&&(t.setAttribute("aria-hidden","true"),this.modifiedElements.push(t))})},cleanup(){this.bodyState.hasOverflowHidden&&(document.body.classList.remove("overflow-hidden"),this.bodyState.hasOverflowHidden=!1),this.bodyState.hasPointerEventsNone&&(document.body.classList.remove("pointer-events-none"),this.bodyState.hasPointerEventsNone=!1),document.body.style.paddingRight=this.bodyState.originalPaddingRight,this.bodyState.originalPaddingRight="",this.modifiedElements.forEach(n=>{n.removeAttribute("aria-hidden")}),this.modifiedElements=[]}};function qe(n,e){return Array.isArray(n)?n.filter(t=>!e.includes(t)):Object.keys(n).reduce((t,a)=>(e.includes(a)||(t[a]=n[a]),t),{})}function be(n,e){return Array.isArray(n)?n.filter(t=>e.includes(t)):e.reduce((t,a)=>(a in n&&(t[a]=n[a]),t),{})}function Ke(n){return Array.isArray(n)?n.filter(e=>e!==null):Object.keys(n).reduce((e,t)=>(t in n&&n[t]!==null&&(e[t]=n[t]),e),{})}function Xe(n,e=3,t=10){return new Promise((a,l)=>{const i=n();if(i){a(i);return}let o=e*1e3/t;const u=setInterval(()=>{const m=n();m&&(clearInterval(u),a(m)),--o<=0&&(clearInterval(u),l(new Error("Condition not met in time")))},t)})}function J(n){return n?(n=n.replace(/_/g,"-"),n=n.replace(/-+/g,"-"),/[A-Z]/.test(n)?(n=n.replace(/\s+/g,"").replace(/_/g,"").replace(/(?:^|\s|-)+([A-Za-z])/g,(e,t)=>t.toUpperCase()),n=n.replace(/(.)(?=[A-Z])/g,"$1-"),n.toLowerCase()):n):""}const ge={__name:"ModalRenderer",props:{index:{type:Number,required:!0}},setup(n){const e=n,t=V(),a=r.computed(()=>t.stack.value[e.index]);return r.provide("modalContext",a),(l,i)=>{var o;return(o=a.value)!=null&&o.component?(r.openBlock(),r.createBlock(r.unref(a).component,r.mergeProps({key:0},a.value.props,{onModalEvent:i[0]||(i[0]=(u,...m)=>a.value.emit(u,...m))}),null,16)):r.createCommentVNode("",!0)}}},ye={__name:"ModalRoot",setup(n){const e=V(),t=r.ref(!1),a=r.ref(null);r.onUnmounted(F.router.on("start",()=>t.value=!0)),r.onUnmounted(F.router.on("finish",()=>t.value=!1)),r.onUnmounted(F.router.on("navigate",o=>{const u=o.detail.page.props._inertiaui_modal;if(!u){a.value&&e.closeAll();return}a.value=u,e.setBaseUrl(u.baseUrl),e.pushFromResponseData(u,{},()=>{if(!u.baseUrl){console.error("No base url in modal response data so cannot navigate back");return}!t.value&&window.location.href!==u.baseUrl&&F.router.visit(u.baseUrl,{preserveScroll:!0,preserveState:!0})})}));const l=o=>(e.stack.value.length&&(o.headers["X-InertiaUI-Modal-Base-Url"]=e.getBaseUrl()),o);r.onBeforeMount(()=>{H.interceptors.request.use(l)}),r.onUnmounted(()=>{H.interceptors.request.eject(l)});const i=F.usePage();return r.watch(()=>{var o;return(o=i.props)==null?void 0:o._inertiaui_modal},(o,u)=>{var m;o&&u&&o.component===u.component&&o.url===u.url&&((m=e.stack.value[0])==null||m.updateProps(o.props??{}))}),(o,u)=>(r.openBlock(),r.createElementBlock(r.Fragment,null,[r.renderSlot(o.$slots,"default"),r.unref(e).stack.value.length?(r.openBlock(),r.createBlock(ge,{key:0,index:0})):r.createCommentVNode("",!0)],64))}};let Q=null;const W=r.ref(null),w=r.ref([]),_=r.ref({}),ze=n=>{Q=n},Ge=n=>{n.resolveComponent&&(Q=n.resolveComponent)};class oe{constructor(e,t,a,l,i){B(this,"update",(e,t,a)=>{const l=this.index.value;l>-1&&(w.value[l].config=e,w.value[l].onCloseCallback=t,w.value[l].afterLeaveCallback=a)});B(this,"getParentModal",()=>{const e=this.index.value;return e<1?null:w.value.slice(0,e).reverse().find(t=>t.isOpen)});B(this,"getChildModal",()=>{const e=this.index.value;return e===w.value.length-1?null:w.value.slice(e+1).find(t=>t.isOpen)});B(this,"show",()=>{const e=this.index.value;if(e>-1){if(w.value[e].isOpen)return;w.value[e].isOpen=!0,w.value[e].shouldRender=!0}});B(this,"close",()=>{var t;const e=this.index.value;if(e>-1){if(!w.value[e].isOpen)return;Object.keys(this.listeners).forEach(a=>{this.off(a)}),w.value[e].isOpen=!1,(t=this.onCloseCallback)==null||t.call(this),this.onCloseCallback=null}});B(this,"setOpen",e=>{e?this.show():this.close()});B(this,"afterLeave",()=>{var t;const e=this.index.value;if(e>-1){if(w.value[e].isOpen)return;w.value[e].shouldRender=!1,(t=this.afterLeaveCallback)==null||t.call(this),this.afterLeaveCallback=null}e===0&&(w.value=[])});B(this,"on",(e,t)=>{e=J(e),this.listeners[e]=this.listeners[e]??[],this.listeners[e].push(t)});B(this,"off",(e,t)=>{var a;e=J(e),t?this.listeners[e]=((a=this.listeners[e])==null?void 0:a.filter(l=>l!==t))??[]:delete this.listeners[e]});B(this,"emit",(e,...t)=>{var a;(a=this.listeners[J(e)])==null||a.forEach(l=>l(...t))});B(this,"registerEventListenersFromAttrs",e=>{const t=[];return Object.keys(e).filter(a=>a.startsWith("on")).forEach(a=>{const l=J(a).replace(/^on-/,"");this.on(l,e[a]),t.push(()=>this.off(l,e[a]))}),()=>t.forEach(a=>a())});B(this,"reload",(e={})=>{var a;let t=Object.keys(this.response.props);e.only&&(t=be(t,e.only)),e.except&&(t=qe(t,e.except)),(a=this.response)!=null&&a.url&&H.get(this.response.url,{headers:{Accept:"text/html, application/xhtml+xml","X-Inertia":!0,"X-Inertia-Partial-Component":this.response.component,"X-Inertia-Version":this.response.version,"X-Inertia-Partial-Data":t.join(","),"X-InertiaUI-Modal":!0,"X-InertiaUI-Modal-Use-Router":0,"X-InertiaUI-Modal-Base-Url":W.value}}).then(l=>{this.updateProps(l.data.props)})});B(this,"updateProps",e=>{Object.assign(this.props.value,e)});this.id=oe.generateId(),this.isOpen=!1,this.shouldRender=!1,this.listeners={},this.component=e,this.props=r.ref(t.props),this.response=t,this.config=a,this.onCloseCallback=l,this.afterLeaveCallback=i,this.index=r.computed(()=>w.value.findIndex(o=>o.id===this.id)),this.onTopOfStack=r.computed(()=>{var u;return w.value.length<2?!0:((u=w.value.map(m=>({id:m.id,shouldRender:m.shouldRender})).reverse().find(m=>m.shouldRender))==null?void 0:u.id)===this.id})}static generateId(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`inertiaui_modal_${crypto.randomUUID()}`:`inertiaui_modal_${Date.now().toString(36)}_${Math.random().toString(36).substr(2,9)}`}}function He(n,e){_.value[n]={name:n,callback:e}}function Ze(n,e,t,a){if(!_.value[n])throw new Error(`The local modal "${n}" has not been registered.`);const l=le(null,{},e,t,a);return l.name=n,_.value[n].callback(l),l}function xe(n,e={},t=null,a=null){return Q(n.component).then(l=>le(r.markRaw(l),n,e,t,a))}function Ye(n,e,t={},a={},l={},i=null,o=null,u="brackets",m=!1){return new Promise((h,N)=>{if(n.startsWith("#")){h(Ze(n.substring(1),l,i,o));return}const[C,O]=Ue.mergeDataIntoQueryString(e,n||"",t,u);let c=m&&w.value.length===0;if(w.value.length===0&&(W.value=typeof window<"u"?window.location.href:""),a={...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,"X-Inertia-Version":F.usePage().version,"X-InertiaUI-Modal":!0,"X-InertiaUI-Modal-Use-Router":c?1:0,"X-InertiaUI-Modal-Base-Url":W.value},c)return F.router.visit(C,{method:e,data:O,headers:a,preserveScroll:!0,preserveState:!0,onError:N,onFinish:()=>Xe(()=>w.value[0]).then(p=>{const b=p.onCloseCallback,R=p.afterLeaveCallback;p.update(l,()=>{i==null||i(),b==null||b()},()=>{o==null||o(),R==null||R()}),h(p)})});H({url:C,method:e,data:O,headers:a}).then(p=>h(xe(p.data,l,i,o))).catch(N)})}function le(n,e,t,a,l){const i=new oe(n,e,t,a,l);return w.value.push(i),r.nextTick(()=>{i.show()}),i}const Je=["closeButton","closeExplicitly","maxWidth","paddingClasses","panelClasses","position","slideover"],Qe=(n,e)=>(e.resolveComponent&&(Q=e.resolveComponent),()=>r.h(ye,()=>r.h(n,e)));function V(){return{setComponentResolver:ze,getBaseUrl:()=>W.value,setBaseUrl:n=>W.value=n,stack:r.readonly(w),push:le,pushFromResponseData:xe,closeAll:()=>[...w.value].reverse().forEach(n=>n.close()),reset:()=>w.value=[],visit:Ye,registerLocalModal:He,removeLocalModal:n=>delete _.value[n]}}const we=Object.assign({inheritAttrs:!1},{__name:"HeadlessModal",props:{name:{type:String,required:!1},slideover:{type:Boolean,default:null},closeButton:{type:Boolean,default:null},closeExplicitly:{type:Boolean,default:null},maxWidth:{type:String,default:null},paddingClasses:{type:[Boolean,String],default:null},panelClasses:{type:[Boolean,String],default:null},position:{type:String,default:null}},emits:["modal-event"],setup(n,{expose:e,emit:t}){const a=n,l=V(),i=a.name?r.ref({}):r.inject("modalContext"),o=r.computed(()=>{var p;const c=((p=i.value.config)==null?void 0:p.slideover)??a.slideover??Y("type")==="slideover";return{slideover:c,closeButton:a.closeButton??D(c,"closeButton"),closeExplicitly:a.closeExplicitly??D(c,"closeExplicitly"),maxWidth:a.maxWidth??D(c,"maxWidth"),paddingClasses:a.paddingClasses??D(c,"paddingClasses"),panelClasses:a.panelClasses??D(c,"panelClasses"),position:a.position??D(c,"position"),...i.value.config}});a.name&&(l.registerLocalModal(a.name,function(c){i.value=c,h()}),r.onBeforeUnmount(()=>{l.removeLocalModal(a.name)})),r.onMounted(()=>{a.name||h()});const u=r.ref(null);r.onBeforeUnmount(()=>{var c;return(c=u.value)==null?void 0:c.call(u)});const m=r.useAttrs();function h(){u.value=i.value.registerEventListenersFromAttrs(m)}const N=t;function C(c,...p){N("modal-event",c,...p)}e({emit:C,afterLeave:()=>{var c;return(c=i.value)==null?void 0:c.afterLeave()},close:()=>{var c;return(c=i.value)==null?void 0:c.close()},reload:(...c)=>{var p;return(p=i.value)==null?void 0:p.reload(...c)},setOpen:(...c)=>{var p;return(p=i.value)==null?void 0:p.setOpen(...c)},getChildModal:()=>{var c;return(c=i.value)==null?void 0:c.getChildModal()},getParentModal:()=>{var c;return(c=i.value)==null?void 0:c.getParentModal()},get config(){var c;return(c=i.value)==null?void 0:c.config},get id(){var c;return(c=i.value)==null?void 0:c.id},get index(){var c;return(c=i.value)==null?void 0:c.index},get isOpen(){var c;return(c=i.value)==null?void 0:c.isOpen},get modalContext(){var c;return(c=i.value)==null?void 0:c.modalContext},get onTopOfStack(){var c;return(c=i.value)==null?void 0:c.onTopOfStack},get shouldRender(){var c;return(c=i.value)==null?void 0:c.shouldRender}});const O=r.computed(()=>{var c;return(c=l.stack.value.find(p=>p.shouldRender&&p.index>i.value.index))==null?void 0:c.index});return(c,p)=>(r.openBlock(),r.createElementBlock(r.Fragment,null,[r.unref(i).shouldRender?r.renderSlot(c.$slots,"default",{key:0,id:r.unref(i).id,afterLeave:r.unref(i).afterLeave,close:r.unref(i).close,config:o.value,emit:C,getChildModal:r.unref(i).getChildModal,getParentModal:r.unref(i).getParentModal,index:r.unref(i).index,isOpen:r.unref(i).isOpen,modalContext:r.unref(i),onTopOfStack:r.unref(i).onTopOfStack,reload:r.unref(i).reload,setOpen:r.unref(i).setOpen,shouldRender:r.unref(i).shouldRender}):r.createCommentVNode("",!0),O.value?(r.openBlock(),r.createBlock(ge,{key:1,index:O.value},null,8,["index"])):r.createCommentVNode("",!0)],64))}}),_e=(n,e)=>{const t=n.__vccOpts||n;for(const[a,l]of e)t[a]=l;return t},et={},tt={class:"im-close-button text-gray-400 hover:text-gray-500"};function nt(n,e){return r.openBlock(),r.createElementBlock("button",tt,e[0]||(e[0]=[r.createElementVNode("span",{class:"sr-only"},"Close",-1),r.createElementVNode("svg",{class:"size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[r.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))}const Ce=_e(et,[["render",nt]]);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ke=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ee=ke.join(","),Ne=typeof Element>"u",A=Ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,te=!Ne&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},ne=function n(e,t){var a;t===void 0&&(t=!0);var l=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),i=l===""||l==="true",o=i||t&&e&&n(e.parentNode);return o},at=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Ee=function(e,t,a){if(ne(e))return[];var l=Array.prototype.slice.apply(e.querySelectorAll(ee));return t&&A.call(e,ee)&&l.unshift(e),l=l.filter(a),l},Se=function n(e,t,a){for(var l=[],i=Array.from(e);i.length;){var o=i.shift();if(!ne(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),m=u.length?u:o.children,h=n(m,!0,a);a.flatten?l.push.apply(l,h):l.push({scopeParent:o,candidates:h})}else{var N=A.call(o,ee);N&&a.filter(o)&&(t||!e.includes(o))&&l.push(o);var C=o.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(o),O=!ne(C,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(o));if(C&&O){var c=n(C===!0?o.children:C.children,!0,a);a.flatten?l.push.apply(l,c):l.push({scopeParent:o,candidates:c})}else i.unshift.apply(i,o.children)}}return l},Te=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},M=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||at(e))&&!Te(e)?0:e.tabIndex},rt=function(e,t){var a=M(e);return a<0&&t&&!Te(e)?0:a},it=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Oe=function(e){return e.tagName==="INPUT"},ot=function(e){return Oe(e)&&e.type==="hidden"},lt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},st=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},dt=function(e){if(!e.name)return!0;var t=e.form||te(e),a=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=a(window.CSS.escape(e.name));else try{l=a(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=st(l,e.form);return!i||i===e},ct=function(e){return Oe(e)&&e.type==="radio"},ut=function(e){return ct(e)&&!dt(e)},ft=function(e){var t,a=e&&te(e),l=(t=a)===null||t===void 0?void 0:t.host,i=!1;if(a&&a!==e){var o,u,m;for(i=!!((o=l)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(l)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!i&&l;){var h,N,C;a=te(l),l=(h=a)===null||h===void 0?void 0:h.host,i=!!((N=l)!==null&&N!==void 0&&(C=N.ownerDocument)!==null&&C!==void 0&&C.contains(l))}}return i},Be=function(e){var t=e.getBoundingClientRect(),a=t.width,l=t.height;return a===0&&l===0},mt=function(e,t){var a=t.displayCheck,l=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=A.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(A.call(o,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof l=="function"){for(var u=e;e;){var m=e.parentElement,h=te(e);if(m&&!m.shadowRoot&&l(m)===!0)return Be(e);e.assignedSlot?e=e.assignedSlot:!m&&h!==e.ownerDocument?e=h.host:e=m}e=u}if(ft(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Be(e);return!1},ht=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var l=t.children.item(a);if(l.tagName==="LEGEND")return A.call(t,"fieldset[disabled] *")?!0:!l.contains(e)}return!0}t=t.parentElement}return!1},ae=function(e,t){return!(t.disabled||ne(t)||ot(t)||mt(t,e)||lt(t)||ht(t))},se=function(e,t){return!(ut(t)||M(t)<0||!ae(e,t))},pt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},vt=function n(e){var t=[],a=[];return e.forEach(function(l,i){var o=!!l.scopeParent,u=o?l.scopeParent:l,m=rt(u,o),h=o?n(l.candidates):u;m===0?o?t.push.apply(t,h):t.push(u):a.push({documentOrder:i,tabIndex:m,item:l,isScope:o,content:h})}),a.sort(it).reduce(function(l,i){return i.isScope?l.push.apply(l,i.content):l.push(i.content),l},[]).concat(t)},bt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Se([e],t.includeContainer,{filter:se.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:pt}):a=Ee(e,t.includeContainer,se.bind(null,t)),vt(a)},gt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Se([e],t.includeContainer,{filter:ae.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Ee(e,t.includeContainer,ae.bind(null,t)),a},j=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return A.call(e,ee)===!1?!1:se(t,e)},yt=ke.concat("iframe").join(","),de=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return A.call(e,yt)===!1?!1:ae(t,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ce(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function xt(n){if(Array.isArray(n))return ce(n)}function wt(n,e,t){return(e=St(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ct(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function Re(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fe(Object(t),!0).forEach(function(a){wt(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function Nt(n){return xt(n)||Ct(n)||Tt(n)||kt()}function Et(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function St(n){var e=Et(n,"string");return typeof e=="symbol"?e:e+""}function Tt(n,e){if(n){if(typeof n=="string")return ce(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ce(n,e):void 0}}var Ie={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var l=e.indexOf(t);l===-1||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},Ot=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Bt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},$=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Ft=function(e){return $(e)&&!e.shiftKey},Rt=function(e){return $(e)&&e.shiftKey},Pe=function(e){return setTimeout(e,0)},q=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];return typeof e=="function"?e.apply(void 0,a):e},re=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},It=[],Pt=function(e,t){var a=(t==null?void 0:t.document)||document,l=(t==null?void 0:t.trapStack)||It,i=Re({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ft,isKeyBackward:Rt},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,m=function(s,d,f){return s&&s[d]!==void 0?s[d]:i[f||d]},h=function(s,d){var f=typeof(d==null?void 0:d.composedPath)=="function"?d.composedPath():void 0;return o.containerGroups.findIndex(function(y){var x=y.container,E=y.tabbableNodes;return x.contains(s)||(f==null?void 0:f.includes(x))||E.find(function(v){return v===s})})},N=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=d.hasFallback,y=f===void 0?!1:f,x=d.params,E=x===void 0?[]:x,v=i[s];if(typeof v=="function"&&(v=v.apply(void 0,Nt(E))),v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var S=v;if(typeof v=="string"){try{S=a.querySelector(v)}catch(T){throw new Error("`".concat(s,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!S&&!y)throw new Error("`".concat(s,"` as selector refers to no known node"))}return S},C=function(){var s=N("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!de(s,i.tabbableOptions))if(h(a.activeElement)>=0)s=a.activeElement;else{var d=o.tabbableGroups[0],f=d&&d.firstTabbableNode;s=f||N("fallbackFocus")}else s===null&&(s=N("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},O=function(){if(o.containerGroups=o.containers.map(function(s){var d=bt(s,i.tabbableOptions),f=gt(s,i.tabbableOptions),y=d.length>0?d[0]:void 0,x=d.length>0?d[d.length-1]:void 0,E=f.find(function(T){return j(T)}),v=f.slice().reverse().find(function(T){return j(T)}),S=!!d.find(function(T){return M(T)>0});return{container:s,tabbableNodes:d,focusableNodes:f,posTabIndexesFound:S,firstTabbableNode:y,lastTabbableNode:x,firstDomTabbableNode:E,lastDomTabbableNode:v,nextTabbableNode:function(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P=d.indexOf(L);return P<0?z?f.slice(f.indexOf(L)+1).find(function(G){return j(G)}):f.slice(0,f.indexOf(L)).reverse().find(function(G){return j(G)}):d[P+(z?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!N("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(s){return s.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},c=function(s){var d=s.activeElement;if(d)return d.shadowRoot&&d.shadowRoot.activeElement!==null?c(d.shadowRoot):d},p=function(s){if(s!==!1&&s!==c(document)){if(!s||!s.focus){p(C());return}s.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=s,Ot(s)&&s.select()}},b=function(s){var d=N("setReturnFocus",{params:[s]});return d||(d===!1?!1:s)},R=function(s){var d=s.target,f=s.event,y=s.isBackward,x=y===void 0?!1:y;d=d||re(f),O();var E=null;if(o.tabbableGroups.length>0){var v=h(d,f),S=v>=0?o.containerGroups[v]:void 0;if(v<0)x?E=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:E=o.tabbableGroups[0].firstTabbableNode;else if(x){var T=o.tabbableGroups.findIndex(function(he){var pe=he.firstTabbableNode;return d===pe});if(T<0&&(S.container===d||de(d,i.tabbableOptions)&&!j(d,i.tabbableOptions)&&!S.nextTabbableNode(d,!1))&&(T=v),T>=0){var L=T===0?o.tabbableGroups.length-1:T-1,z=o.tabbableGroups[L];E=M(d)>=0?z.lastTabbableNode:z.lastDomTabbableNode}else $(f)||(E=S.nextTabbableNode(d,!1))}else{var P=o.tabbableGroups.findIndex(function(he){var pe=he.lastTabbableNode;return d===pe});if(P<0&&(S.container===d||de(d,i.tabbableOptions)&&!j(d,i.tabbableOptions)&&!S.nextTabbableNode(d))&&(P=v),P>=0){var G=P===o.tabbableGroups.length-1?0:P+1,je=o.tabbableGroups[G];E=M(d)>=0?je.firstTabbableNode:je.firstDomTabbableNode}else $(f)||(E=S.nextTabbableNode(d))}}else E=N("fallbackFocus");return E},I=function(s){var d=re(s);if(!(h(d,s)>=0)){if(q(i.clickOutsideDeactivates,s)){u.deactivate({returnFocus:i.returnFocusOnDeactivate});return}q(i.allowOutsideClick,s)||s.preventDefault()}},ie=function(s){var d=re(s),f=h(d,s)>=0;if(f||d instanceof Document)f&&(o.mostRecentlyFocusedNode=d);else{s.stopImmediatePropagation();var y,x=!0;if(o.mostRecentlyFocusedNode)if(M(o.mostRecentlyFocusedNode)>0){var E=h(o.mostRecentlyFocusedNode),v=o.containerGroups[E].tabbableNodes;if(v.length>0){var S=v.findIndex(function(T){return T===o.mostRecentlyFocusedNode});S>=0&&(i.isKeyForward(o.recentNavEvent)?S+1<v.length&&(y=v[S+1],x=!1):S-1>=0&&(y=v[S-1],x=!1))}}else o.containerGroups.some(function(T){return T.tabbableNodes.some(function(L){return M(L)>0})})||(x=!1);else x=!1;x&&(y=R({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),p(y||o.mostRecentlyFocusedNode||C())}o.recentNavEvent=void 0},ue=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=s;var f=R({event:s,isBackward:d});f&&($(s)&&s.preventDefault(),p(f))},K=function(s){(i.isKeyForward(s)||i.isKeyBackward(s))&&ue(s,i.isKeyBackward(s))},fe=function(s){Bt(s)&&q(i.escapeDeactivates,s)!==!1&&(s.preventDefault(),u.deactivate())},Me=function(s){var d=re(s);h(d,s)>=0||q(i.clickOutsideDeactivates,s)||q(i.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},Le=function(){if(o.active)return Ie.activateTrap(l,u),o.delayInitialFocusTimer=i.delayInitialFocus?Pe(function(){p(C())}):p(C()),a.addEventListener("focusin",ie,!0),a.addEventListener("mousedown",I,{capture:!0,passive:!1}),a.addEventListener("touchstart",I,{capture:!0,passive:!1}),a.addEventListener("click",Me,{capture:!0,passive:!1}),a.addEventListener("keydown",K,{capture:!0,passive:!1}),a.addEventListener("keydown",fe),u},De=function(){if(o.active)return a.removeEventListener("focusin",ie,!0),a.removeEventListener("mousedown",I,!0),a.removeEventListener("touchstart",I,!0),a.removeEventListener("click",Me,!0),a.removeEventListener("keydown",K,!0),a.removeEventListener("keydown",fe),u},Gt=function(s){var d=s.some(function(f){var y=Array.from(f.removedNodes);return y.some(function(x){return x===o.mostRecentlyFocusedNode})});d&&p(C())},me=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Gt):void 0,X=function(){me&&(me.disconnect(),o.active&&!o.paused&&o.containers.map(function(s){me.observe(s,{subtree:!0,childList:!0})}))};return u={get active(){return o.active},get paused(){return o.paused},activate:function(s){if(o.active)return this;var d=m(s,"onActivate"),f=m(s,"onPostActivate"),y=m(s,"checkCanFocusTrap");y||O(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=a.activeElement,d==null||d();var x=function(){y&&O(),Le(),X(),f==null||f()};return y?(y(o.containers.concat()).then(x,x),this):(x(),this)},deactivate:function(s){if(!o.active)return this;var d=Re({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},s);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,De(),o.active=!1,o.paused=!1,X(),Ie.deactivateTrap(l,u);var f=m(d,"onDeactivate"),y=m(d,"onPostDeactivate"),x=m(d,"checkCanReturnFocus"),E=m(d,"returnFocus","returnFocusOnDeactivate");f==null||f();var v=function(){Pe(function(){E&&p(b(o.nodeFocusedBeforeActivation)),y==null||y()})};return E&&x?(x(b(o.nodeFocusedBeforeActivation)).then(v,v),this):(v(),this)},pause:function(s){if(o.paused||!o.active)return this;var d=m(s,"onPause"),f=m(s,"onPostPause");return o.paused=!0,d==null||d(),De(),X(),f==null||f(),this},unpause:function(s){if(!o.paused||!o.active)return this;var d=m(s,"onUnpause"),f=m(s,"onPostUnpause");return o.paused=!1,d==null||d(),O(),Le(),X(),f==null||f(),this},updateContainerElements:function(s){var d=[].concat(s).filter(Boolean);return o.containers=d.map(function(f){return typeof f=="string"?a.querySelector(f):f}),o.active&&O(),X(),this}},u.updateContainerElements(e),u};function Ae(n,e){const t=r.ref(null),a=r.ref(null);return r.onMounted(()=>{t.value&&(a.value=Pt(t.value,{clickOutsideDeactivates:!n,escapeDeactivates:!n,onDeactivate:()=>e==null?void 0:e(),fallbackFocus:()=>t.value}),a.value.activate())}),r.onBeforeUnmount(()=>{var l;(l=a.value)==null||l.deactivate()}),{wrapper:t}}const At={class:"im-modal-container fixed inset-0 z-40 overflow-y-auto p-4"},Mt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},Lt={__name:"ModalContent",props:{modalContext:Object,config:Object},setup(n){var a;const e=n,{wrapper:t}=Ae((a=e.config)==null?void 0:a.closeExplicitly,()=>e.modalContext.close());return(l,i)=>(r.openBlock(),r.createElementBlock("div",At,[r.createElementVNode("div",{class:r.normalizeClass(["im-modal-positioner flex min-h-full justify-center",{"items-start":n.config.position==="top","items-center":n.config.position==="center","items-end":n.config.position==="bottom"}])},[r.createVNode(r.Transition,{appear:"","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",onAfterLeave:n.modalContext.afterLeave},{default:r.withCtx(()=>[r.withDirectives(r.createElementVNode("div",{ref_key:"wrapper",ref:t,class:r.normalizeClass({"im-modal-wrapper pointer-events-auto w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[r.createElementVNode("div",{class:r.normalizeClass(["im-modal-content relative",[n.config.paddingClasses,n.config.panelClasses]])},[n.config.closeButton?(r.openBlock(),r.createElementBlock("div",Mt,[r.createVNode(Ce,{onClick:n.modalContext.close},null,8,["onClick"])])):r.createCommentVNode("",!0),r.renderSlot(l.$slots,"default",{modalContext:n.modalContext,config:n.config})],2)],2),[[r.vShow,n.modalContext.isOpen]])]),_:3},8,["onAfterLeave"])],2)]))}},Dt={class:"im-slideover-container fixed inset-0 z-40 overflow-y-auto overflow-x-hidden"},jt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},Ut={__name:"SlideoverContent",props:{modalContext:Object,config:Object},setup(n){var a;const e=n,{wrapper:t}=Ae((a=e.config)==null?void 0:a.closeExplicitly,()=>e.modalContext.close());return(l,i)=>(r.openBlock(),r.createElementBlock("div",Dt,[r.createElementVNode("div",{class:r.normalizeClass(["im-slideover-positioner flex min-h-full items-center",{"justify-start rtl:justify-end":n.config.position==="left","justify-end rtl:justify-start":n.config.position==="right"}])},[r.createVNode(r.Transition,{appear:"","enter-from-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),"enter-to-class":"opacity-100 translate-x-0","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),onAfterLeave:n.modalContext.afterLeave},{default:r.withCtx(()=>[r.withDirectives(r.createElementVNode("div",{ref_key:"wrapper",ref:t,class:r.normalizeClass({"im-slideover-wrapper pointer-events-auto w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[r.createElementVNode("div",{class:r.normalizeClass(["im-slideover-content relative",[n.config.paddingClasses,n.config.panelClasses]])},[n.config.closeButton?(r.openBlock(),r.createElementBlock("div",jt,[r.createVNode(Ce,{onClick:n.modalContext.close},null,8,["onClick"])])):r.createCommentVNode("",!0),r.renderSlot(l.$slots,"default",{modalContext:n.modalContext,config:n.config})],2)],2),[[r.vShow,n.modalContext.isOpen]])]),_:3},8,["enter-from-class","leave-to-class","onAfterLeave"])],2)]))}},Wt=["data-inertiaui-modal-id","data-inertiaui-modal-index","aria-hidden"],Vt={class:"im-backdrop fixed inset-0 z-30 bg-black/75"},$t={key:1,class:"im-backdrop fixed inset-0 z-30 bg-black/75"},qt={__name:"Modal",setup(n,{expose:e}){const t=r.ref(null),a=r.ref(!1),l=r.ref(!1);return r.watch(()=>t.value,i=>{(i==null?void 0:i.index)===0&&(ve.prepare(),l.value=!0)}),r.onBeforeUnmount(()=>{l.value&&ve.cleanup()}),e({afterLeave:()=>{var i;return(i=t.value)==null?void 0:i.afterLeave()},close:()=>{var i;return(i=t.value)==null?void 0:i.close()},emit:(...i)=>{var o;return(o=t.value)==null?void 0:o.emit(...i)},getChildModal:()=>{var i;return(i=t.value)==null?void 0:i.getChildModal()},getParentModal:()=>{var i;return(i=t.value)==null?void 0:i.getParentModal()},reload:(...i)=>{var o;return(o=t.value)==null?void 0:o.reload(...i)},setOpen:(...i)=>{var o;return(o=t.value)==null?void 0:o.setOpen(...i)},get config(){var i;return(i=t.value)==null?void 0:i.config},get id(){var i;return(i=t.value)==null?void 0:i.id},get index(){var i;return(i=t.value)==null?void 0:i.index},get isOpen(){var i;return(i=t.value)==null?void 0:i.isOpen},get modalContext(){var i;return(i=t.value)==null?void 0:i.modalContext},get onTopOfStack(){var i;return(i=t.value)==null?void 0:i.onTopOfStack},get shouldRender(){var i;return(i=t.value)==null?void 0:i.shouldRender}}),(i,o)=>(r.openBlock(),r.createBlock(we,{ref_key:"modal",ref:t},{default:r.withCtx(({afterLeave:u,close:m,config:h,emit:N,getChildModal:C,getParentModal:O,id:c,index:p,isOpen:b,modalContext:R,onTopOfStack:I,reload:ie,setOpen:ue,shouldRender:K})=>[K?(r.openBlock(),r.createBlock(r.Teleport,{key:0,to:"body"},[r.createElementVNode("div",{"data-inertiaui-modal-id":c,"data-inertiaui-modal-index":p,class:"im-dialog relative z-20","aria-hidden":!I},[p===0&&I?(r.openBlock(),r.createBlock(r.Transition,{key:0,appear:!a.value,"enter-active-class":"transition transform ease-in-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition transform ease-in-out duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onAfterAppear:o[0]||(o[0]=fe=>a.value=!0)},{default:r.withCtx(()=>[r.withDirectives(r.createElementVNode("div",Vt,null,512),[[r.vShow,b]])]),_:2},1032,["appear"])):r.createCommentVNode("",!0),p>0&&I?(r.openBlock(),r.createElementBlock("div",$t)):r.createCommentVNode("",!0),(r.openBlock(),r.createBlock(r.resolveDynamicComponent(h!=null&&h.slideover?Ut:Lt),{"modal-context":R,config:h},{default:r.withCtx(()=>[r.renderSlot(i.$slots,"default",{id:c,afterLeave:u,close:m,config:h,emit:N,getChildModal:C,getParentModal:O,index:p,isOpen:b,modalContext:R,onTopOfStack:I,reload:ie,setOpen:ue,shouldRender:K})]),_:2},1032,["modal-context","config"]))],8,Wt)])):r.createCommentVNode("",!0)]),_:3},512))}},Kt={__name:"ModalLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},data:{type:Object,default:()=>({})},as:{type:String,default:"a"},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},navigate:{type:Boolean,default:null},closeButton:{type:Boolean,required:!1,default:null},closeExplicitly:{type:Boolean,required:!1,default:null},maxWidth:{type:String,required:!1,default:null},paddingClasses:{type:[Boolean,String],required:!1,default:null},panelClasses:{type:[Boolean,String],required:!1,default:null},position:{type:String,required:!1,default:null},slideover:{type:Boolean,required:!1,default:null}},emits:["after-leave","blur","close","error","focus","start","success"],setup(n,{emit:e}){const t=n,a=r.ref(!1),l=V(),i=r.ref(null);r.provide("modalContext",i);const o=e,u=r.ref(!1),m=r.computed(()=>t.navigate??Y("navigate"));r.watch(()=>{var b;return(b=i.value)==null?void 0:b.onTopOfStack},b=>{i.value&&(b&&u.value?o("focus"):b||o("blur"),u.value=!b)});const h=r.ref(null);r.onBeforeUnmount(()=>{var b;return(b=h.value)==null?void 0:b.call(h)});const N=r.useAttrs();function C(){h.value=i.value.registerEventListenersFromAttrs(N)}r.watch(i,(b,R)=>{b&&!R&&(C(),o("success"))});function O(){o("close")}function c(){i.value=null,o("after-leave")}function p(){a.value||(t.href.startsWith("#")||(a.value=!0,o("start")),l.visit(t.href,t.method,t.data,t.headers,Ke(be(t,Je)),O,c,t.queryStringArrayFormat,m.value).then(b=>{i.value=b}).catch(b=>o("error",b)).finally(()=>a.value=!1))}return(b,R)=>(r.openBlock(),r.createBlock(r.resolveDynamicComponent(n.as),r.mergeProps(r.unref(N),{href:n.href,onClick:r.withModifiers(p,["prevent"])}),{default:r.withCtx(()=>[r.renderSlot(b.$slots,"default",{loading:a.value})]),_:3},16,["href"]))}};function Xt(){return r.toValue(r.inject("modalContext",null))}function zt(n,e={}){return V().visit(n,e.method??"get",e.data??{},e.headers??{},e.config??{},e.onClose,e.onAfterLeave,e.queryStringArrayFormat??"brackets",e.navigate??Y("navigate")).then(t=>{const a=e.listeners??{};return Object.keys(a).forEach(l=>{const i=l.replace(/([A-Z])/g,"-$1").toLowerCase();t.on(i,a[l])}),t})}g.HeadlessModal=we,g.Modal=qt,g.ModalLink=Kt,g.ModalRoot=ye,g.getConfig=Y,g.initFromPageProps=Ge,g.putConfig=$e,g.renderApp=Qe,g.resetConfig=Ve,g.useModal=Xt,g.visitModal=zt,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
