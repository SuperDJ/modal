(function(g,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue"),require("@inertiajs/vue3"),require("@inertiajs/core"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3","@inertiajs/core","axios"],i):(g=typeof globalThis<"u"?globalThis:g||self,i(g.InertiaUIModal={},g.vue,g.vue3,g.core,g.Axios))})(this,function(g,i,F,$e,Z){"use strict";var Qt=Object.defineProperty;var _t=(g,i,F)=>i in g?Qt(g,i,{enumerable:!0,configurable:!0,writable:!0,value:F}):g[i]=F;var B=(g,i,F)=>_t(g,typeof i!="symbol"?i+"":i,F);const $={type:"modal",navigate:!1,modal:{closeButton:!0,closeExplicitly:!1,maxWidth:"2xl",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white rounded",position:"center"},slideover:{closeButton:!0,closeExplicitly:!1,maxWidth:"md",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white min-h-screen",position:"right"}};class We{constructor(){this.config={},this.reset()}reset(){this.config=JSON.parse(JSON.stringify($))}put(e,t){if(typeof e=="object"){this.config={type:e.type??$.type,navigate:e.navigate??$.navigate,modal:{...$.modal,...e.modal??{}},slideover:{...$.slideover,...e.slideover??{}}};return}const a=e.split(".");let l=this.config;for(let r=0;r<a.length-1;r++)l=l[a[r]]=l[a[r]]||{};l[a[a.length-1]]=t}get(e){if(typeof e>"u")return this.config;const t=e.split(".");let a=this.config;for(const l of t){if(a[l]===void 0)return null;a=a[l]}return a}}const Y=new We,Ve=()=>Y.reset(),qe=(n,e)=>Y.put(n,e),J=n=>Y.get(n),D=(n,e)=>Y.get(n?`slideover.${e}`:`modal.${e}`),be={modifiedElements:[],bodyState:{hasOverflowHidden:!1,hasPointerEventsNone:!1,originalPaddingRight:""},prepare(){const n=window.innerWidth-document.documentElement.clientWidth;this.bodyState.originalPaddingRight=document.body.style.paddingRight;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10);document.body.style.paddingRight=`${e+n}px`,document.body.classList.contains("overflow-hidden")||(document.body.classList.add("overflow-hidden"),this.bodyState.hasOverflowHidden=!0),document.body.classList.contains("pointer-events-none")||(document.body.classList.add("pointer-events-none"),this.bodyState.hasPointerEventsNone=!0),Array.from(document.body.children).forEach(t=>{!t.classList.contains("im-dialog")&&t.getAttribute("aria-hidden")!=="true"&&(t.setAttribute("aria-hidden","true"),this.modifiedElements.push(t))})},cleanup(){this.bodyState.hasOverflowHidden&&(document.body.classList.remove("overflow-hidden"),this.bodyState.hasOverflowHidden=!1),this.bodyState.hasPointerEventsNone&&(document.body.classList.remove("pointer-events-none"),this.bodyState.hasPointerEventsNone=!1),document.body.style.paddingRight=this.bodyState.originalPaddingRight,this.bodyState.originalPaddingRight="",this.modifiedElements.forEach(n=>{n.removeAttribute("aria-hidden")}),this.modifiedElements=[]}};function se(n="inertiaui_modal_"){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${n}${crypto.randomUUID()}`:`${n}${Date.now().toString(36)}_${Math.random().toString(36).substr(2,9)}`}function Ke(n,e){return Array.isArray(n)?n.filter(t=>!e.includes(t)):Object.keys(n).reduce((t,a)=>(e.includes(a)||(t[a]=n[a]),t),{})}function ge(n,e){return Array.isArray(n)?n.filter(t=>e.includes(t)):e.reduce((t,a)=>(a in n&&(t[a]=n[a]),t),{})}function Xe(n){return Array.isArray(n)?n.filter(e=>e!==null):Object.keys(n).reduce((e,t)=>(t in n&&n[t]!==null&&(e[t]=n[t]),e),{})}function ze(n,e=3,t=10){return new Promise((a,l)=>{const r=n();if(r){a(r);return}let o=e*1e3/t;const c=setInterval(()=>{const m=n();m&&(clearInterval(c),a(m)),--o<=0&&(clearInterval(c),l(new Error("Condition not met in time")))},t)})}function Q(n){return n?(n=n.replace(/_/g,"-"),n=n.replace(/-+/g,"-"),/[A-Z]/.test(n)?(n=n.replace(/\s+/g,"").replace(/_/g,"").replace(/(?:^|\s|-)+([A-Za-z])/g,(e,t)=>t.toUpperCase()),n=n.replace(/(.)(?=[A-Z])/g,"$1-"),n.toLowerCase()):n):""}const ye={__name:"ModalRenderer",props:{index:{type:Number,required:!0}},setup(n){const e=n,t=V(),a=i.computed(()=>t.stack.value[e.index]);return i.provide("modalContext",a),(l,r)=>{var o;return(o=a.value)!=null&&o.component?(i.openBlock(),i.createBlock(i.unref(a).component,i.mergeProps({key:0},a.value.props,{onModalEvent:r[0]||(r[0]=(c,...m)=>a.value.emit(c,...m))}),null,16)):i.createCommentVNode("",!0)}}},xe={__name:"ModalRoot",setup(n){const e=V(),t=i.ref(!1),a=i.ref(null);i.onUnmounted(F.router.on("start",()=>t.value=!0)),i.onUnmounted(F.router.on("finish",()=>t.value=!1)),i.onUnmounted(F.router.on("navigate",o=>{const c=o.detail.page.props._inertiaui_modal;if(!c){a.value&&e.closeAll();return}a.value=c,e.setBaseUrl(c.baseUrl),e.pushFromResponseData(c,{},()=>{if(!c.baseUrl){console.error("No base url in modal response data so cannot navigate back");return}!t.value&&window.location.href!==c.baseUrl&&F.router.visit(c.baseUrl,{preserveScroll:!0,preserveState:!0})})}));const l=o=>(e.stack.value.length&&(o.headers["X-InertiaUI-Modal-Base-Url"]=e.getBaseUrl()),o);i.onBeforeMount(()=>{Z.interceptors.request.use(l)}),i.onUnmounted(()=>{Z.interceptors.request.eject(l)});const r=F.usePage();return i.watch(()=>{var o;return(o=r.props)==null?void 0:o._inertiaui_modal},(o,c)=>{var m;o&&c&&o.component===c.component&&o.url===c.url&&((m=e.stack.value[0])==null||m.updateProps(o.props??{}))}),(o,c)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.renderSlot(o.$slots,"default"),i.unref(e).stack.value.length?(i.openBlock(),i.createBlock(ye,{key:0,index:0})):i.createCommentVNode("",!0)],64))}};let _=null;const j=i.ref({}),W=i.ref(null),E=i.ref([]),ee=i.ref({}),Ge=n=>{_=n},He=n=>{n.resolveComponent&&(_=n.resolveComponent)};class Ze{constructor(e,t,a,l,r){B(this,"getParentModal",()=>{const e=this.index.value;return e<1?null:E.value.slice(0,e).reverse().find(t=>t.isOpen)});B(this,"getChildModal",()=>{const e=this.index.value;return e===E.value.length-1?null:E.value.slice(e+1).find(t=>t.isOpen)});B(this,"show",()=>{const e=this.index.value;if(e>-1){if(E.value[e].isOpen)return;E.value[e].isOpen=!0,E.value[e].shouldRender=!0}});B(this,"close",()=>{var t;const e=this.index.value;if(e>-1){if(!E.value[e].isOpen)return;Object.keys(this.listeners).forEach(a=>{this.off(a)}),E.value[e].isOpen=!1,(t=this.onCloseCallback)==null||t.call(this),this.onCloseCallback=null}});B(this,"setOpen",e=>{e?this.show():this.close()});B(this,"afterLeave",()=>{var t;const e=this.index.value;if(e>-1){if(E.value[e].isOpen)return;E.value[e].shouldRender=!1,(t=this.afterLeaveCallback)==null||t.call(this),this.afterLeaveCallback=null}e===0&&(E.value=[])});B(this,"on",(e,t)=>{e=Q(e),this.listeners[e]=this.listeners[e]??[],this.listeners[e].push(t)});B(this,"off",(e,t)=>{var a;e=Q(e),t?this.listeners[e]=((a=this.listeners[e])==null?void 0:a.filter(l=>l!==t))??[]:delete this.listeners[e]});B(this,"emit",(e,...t)=>{var a;(a=this.listeners[Q(e)])==null||a.forEach(l=>l(...t))});B(this,"registerEventListenersFromAttrs",e=>{const t=[];return Object.keys(e).filter(a=>a.startsWith("on")).forEach(a=>{const l=Q(a).replace(/^on-/,"");this.on(l,e[a]),t.push(()=>this.off(l,e[a]))}),()=>t.forEach(a=>a())});B(this,"reload",(e={})=>{var a;let t=Object.keys(this.response.props);e.only&&(t=ge(t,e.only)),e.except&&(t=Ke(t,e.except)),(a=this.response)!=null&&a.url&&Z.get(this.response.url,{headers:{Accept:"text/html, application/xhtml+xml","X-Inertia":!0,"X-Inertia-Partial-Component":this.response.component,"X-Inertia-Version":this.response.version,"X-Inertia-Partial-Data":t.join(","),"X-InertiaUI-Modal":se(),"X-InertiaUI-Modal-Use-Router":0,"X-InertiaUI-Modal-Base-Url":W.value}}).then(l=>{this.updateProps(l.data.props)})});B(this,"updateProps",e=>{Object.assign(this.props.value,e)});if(this.id=t.id??se(),this.isOpen=!1,this.shouldRender=!1,this.listeners={},this.component=e,this.props=i.ref(t.props),this.response=t,this.config=a??{},this.onCloseCallback=l,this.afterLeaveCallback=r,j.value[this.id]){this.config={...this.config,...j.value[this.id].config??{}};const o=j.value[this.id].onClose,c=j.value[this.id].onAfterLeave;o&&(this.onCloseCallback=l?()=>{l(),o()}:o),c&&(this.afterLeaveCallback=r?()=>{r(),c()}:c),delete j.value[this.id]}this.index=i.computed(()=>E.value.findIndex(o=>o.id===this.id)),this.onTopOfStack=i.computed(()=>{var c;return E.value.length<2?!0:((c=E.value.map(m=>({id:m.id,shouldRender:m.shouldRender})).reverse().find(m=>m.shouldRender))==null?void 0:c.id)===this.id})}}function Ye(n,e){ee.value[n]={name:n,callback:e}}function Je(n,e,t,a){if(!ee.value[n])throw new Error(`The local modal "${n}" has not been registered.`);const l=de(null,{},e,t,a);return l.name=n,ee.value[n].callback(l),l}function we(n,e={},t=null,a=null){return _(n.component).then(l=>de(i.markRaw(l),n,e,t,a))}function Qe(n,e,t={},a={},l={},r=null,o=null,c="brackets",m=!1){const f=se();return new Promise((p,C)=>{if(n.startsWith("#")){p(Je(n.substring(1),l,r,o));return}const[O,u]=$e.mergeDataIntoQueryString(e,n||"",t,c);let v=m&&E.value.length===0;if(E.value.length===0&&(W.value=typeof window<"u"?window.location.href:""),a={...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,"X-Inertia-Version":F.usePage().version,"X-InertiaUI-Modal":f,"X-InertiaUI-Modal-Use-Router":v?1:0,"X-InertiaUI-Modal-Base-Url":W.value},v)return j.value[f]={config:l,onClose:r,onAfterLeave:o},F.router.visit(O,{method:e,data:u,headers:a,preserveScroll:!0,preserveState:!0,onError:C,onFinish:()=>ze(()=>E.value[0]).then(p)});Z({url:O,method:e,data:u,headers:a}).then(x=>p(we(x.data,l,r,o))).catch(C)})}function de(n,e,t,a,l){const r=new Ze(n,e,t,a,l);return E.value.push(r),i.nextTick(()=>r.show()),r}const _e=["closeButton","closeExplicitly","maxWidth","paddingClasses","panelClasses","position","slideover"],et=(n,e)=>(e.resolveComponent&&(_=e.resolveComponent),()=>i.h(xe,()=>i.h(n,e)));function V(){return{setComponentResolver:Ge,getBaseUrl:()=>W.value,setBaseUrl:n=>W.value=n,stack:i.readonly(E),push:de,pushFromResponseData:we,closeAll:()=>[...E.value].reverse().forEach(n=>n.close()),reset:()=>E.value=[],visit:Qe,registerLocalModal:Ye,removeLocalModal:n=>delete ee.value[n]}}const Ce=Object.assign({inheritAttrs:!1},{__name:"HeadlessModal",props:{name:{type:String,required:!1},slideover:{type:Boolean,default:null},closeButton:{type:Boolean,default:null},closeExplicitly:{type:Boolean,default:null},maxWidth:{type:String,default:null},paddingClasses:{type:[Boolean,String],default:null},panelClasses:{type:[Boolean,String],default:null},position:{type:String,default:null}},emits:["modal-event","focus","blur","close","success"],setup(n,{expose:e,emit:t}){const a=n,l=V(),r=a.name?i.ref({}):i.inject("modalContext"),o=i.computed(()=>{var v;const u=((v=r.value.config)==null?void 0:v.slideover)??a.slideover??J("type")==="slideover";return{slideover:u,closeButton:a.closeButton??D(u,"closeButton"),closeExplicitly:a.closeExplicitly??D(u,"closeExplicitly"),maxWidth:a.maxWidth??D(u,"maxWidth"),paddingClasses:a.paddingClasses??D(u,"paddingClasses"),panelClasses:a.panelClasses??D(u,"panelClasses"),position:a.position??D(u,"position"),...r.value.config}});a.name&&(l.registerLocalModal(a.name,function(u){r.value=u,f()}),i.onBeforeUnmount(()=>{l.removeLocalModal(a.name)})),i.onMounted(()=>{a.name||f()});const c=i.ref(null);i.onBeforeUnmount(()=>{var u;return(u=c.value)==null?void 0:u.call(c)});const m=i.useAttrs();function f(){c.value=r.value.registerEventListenersFromAttrs(m)}const p=t;function C(u,...v){p("modal-event",u,...v)}e({emit:C,afterLeave:()=>{var u;return(u=r.value)==null?void 0:u.afterLeave()},close:()=>{var u;return(u=r.value)==null?void 0:u.close()},reload:(...u)=>{var v;return(v=r.value)==null?void 0:v.reload(...u)},setOpen:(...u)=>{var v;return(v=r.value)==null?void 0:v.setOpen(...u)},getChildModal:()=>{var u;return(u=r.value)==null?void 0:u.getChildModal()},getParentModal:()=>{var u;return(u=r.value)==null?void 0:u.getParentModal()},get config(){var u;return(u=r.value)==null?void 0:u.config},get id(){var u;return(u=r.value)==null?void 0:u.id},get index(){var u;return(u=r.value)==null?void 0:u.index},get isOpen(){var u;return(u=r.value)==null?void 0:u.isOpen},get modalContext(){var u;return(u=r.value)==null?void 0:u.modalContext},get onTopOfStack(){var u;return(u=r.value)==null?void 0:u.onTopOfStack},get shouldRender(){var u;return(u=r.value)==null?void 0:u.shouldRender}}),i.watch(()=>{var u;return(u=r.value)==null?void 0:u.onTopOfStack},(u,v)=>{u&&!v?p("focus"):!u&&v&&p("blur")}),i.watch(()=>{var u;return(u=r.value)==null?void 0:u.isOpen},u=>{p(u?"success":"close")},{immediate:!0});const O=i.computed(()=>{var u;return(u=l.stack.value.find(v=>v.shouldRender&&v.index>r.value.index))==null?void 0:u.index});return(u,v)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.unref(r).shouldRender?i.renderSlot(u.$slots,"default",{key:0,id:i.unref(r).id,afterLeave:i.unref(r).afterLeave,close:i.unref(r).close,config:o.value,emit:C,getChildModal:i.unref(r).getChildModal,getParentModal:i.unref(r).getParentModal,index:i.unref(r).index,isOpen:i.unref(r).isOpen,modalContext:i.unref(r),onTopOfStack:i.unref(r).onTopOfStack,reload:i.unref(r).reload,setOpen:i.unref(r).setOpen,shouldRender:i.unref(r).shouldRender}):i.createCommentVNode("",!0),O.value?(i.openBlock(),i.createBlock(ye,{key:1,index:O.value},null,8,["index"])):i.createCommentVNode("",!0)],64))}}),tt=(n,e)=>{const t=n.__vccOpts||n;for(const[a,l]of e)t[a]=l;return t},nt={},at={class:"im-close-button text-gray-400 hover:text-gray-500"};function rt(n,e){return i.openBlock(),i.createElementBlock("button",at,e[0]||(e[0]=[i.createElementVNode("span",{class:"sr-only"},"Close",-1),i.createElementVNode("svg",{class:"size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[i.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))}const ke=tt(nt,[["render",rt]]);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ee=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],te=Ee.join(","),Ne=typeof Element>"u",P=Ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ne=!Ne&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},ae=function n(e,t){var a;t===void 0&&(t=!0);var l=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),r=l===""||l==="true",o=r||t&&e&&n(e.parentNode);return o},it=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Se=function(e,t,a){if(ae(e))return[];var l=Array.prototype.slice.apply(e.querySelectorAll(te));return t&&P.call(e,te)&&l.unshift(e),l=l.filter(a),l},Te=function n(e,t,a){for(var l=[],r=Array.from(e);r.length;){var o=r.shift();if(!ae(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),m=c.length?c:o.children,f=n(m,!0,a);a.flatten?l.push.apply(l,f):l.push({scopeParent:o,candidates:f})}else{var p=P.call(o,te);p&&a.filter(o)&&(t||!e.includes(o))&&l.push(o);var C=o.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(o),O=!ae(C,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(o));if(C&&O){var u=n(C===!0?o.children:C.children,!0,a);a.flatten?l.push.apply(l,u):l.push({scopeParent:o,candidates:u})}else r.unshift.apply(r,o.children)}}return l},Oe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},L=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||it(e))&&!Oe(e)?0:e.tabIndex},ot=function(e,t){var a=L(e);return a<0&&t&&!Oe(e)?0:a},lt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Be=function(e){return e.tagName==="INPUT"},st=function(e){return Be(e)&&e.type==="hidden"},dt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},ut=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},ct=function(e){if(!e.name)return!0;var t=e.form||ne(e),a=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=a(window.CSS.escape(e.name));else try{l=a(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var r=ut(l,e.form);return!r||r===e},ft=function(e){return Be(e)&&e.type==="radio"},mt=function(e){return ft(e)&&!ct(e)},ht=function(e){var t,a=e&&ne(e),l=(t=a)===null||t===void 0?void 0:t.host,r=!1;if(a&&a!==e){var o,c,m;for(r=!!((o=l)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(l)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!r&&l;){var f,p,C;a=ne(l),l=(f=a)===null||f===void 0?void 0:f.host,r=!!((p=l)!==null&&p!==void 0&&(C=p.ownerDocument)!==null&&C!==void 0&&C.contains(l))}}return r},Fe=function(e){var t=e.getBoundingClientRect(),a=t.width,l=t.height;return a===0&&l===0},vt=function(e,t){var a=t.displayCheck,l=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=P.call(e,"details>summary:first-of-type"),o=r?e.parentElement:e;if(P.call(o,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof l=="function"){for(var c=e;e;){var m=e.parentElement,f=ne(e);if(m&&!m.shadowRoot&&l(m)===!0)return Fe(e);e.assignedSlot?e=e.assignedSlot:!m&&f!==e.ownerDocument?e=f.host:e=m}e=c}if(ht(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Fe(e);return!1},pt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var l=t.children.item(a);if(l.tagName==="LEGEND")return P.call(t,"fieldset[disabled] *")?!0:!l.contains(e)}return!0}t=t.parentElement}return!1},re=function(e,t){return!(t.disabled||ae(t)||st(t)||vt(t,e)||dt(t)||pt(t))},ue=function(e,t){return!(mt(t)||L(t)<0||!re(e,t))},bt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gt=function n(e){var t=[],a=[];return e.forEach(function(l,r){var o=!!l.scopeParent,c=o?l.scopeParent:l,m=ot(c,o),f=o?n(l.candidates):c;m===0?o?t.push.apply(t,f):t.push(c):a.push({documentOrder:r,tabIndex:m,item:l,isScope:o,content:f})}),a.sort(lt).reduce(function(l,r){return r.isScope?l.push.apply(l,r.content):l.push(r.content),l},[]).concat(t)},yt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Te([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:bt}):a=Se(e,t.includeContainer,ue.bind(null,t)),gt(a)},xt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Te([e],t.includeContainer,{filter:re.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Se(e,t.includeContainer,re.bind(null,t)),a},U=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return P.call(e,te)===!1?!1:ue(t,e)},wt=Ee.concat("iframe").join(","),ce=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return P.call(e,wt)===!1?!1:re(t,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function fe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function Ct(n){if(Array.isArray(n))return fe(n)}function kt(n,e,t){return(e=Ot(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Et(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Nt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function Ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Re(Object(t),!0).forEach(function(a){kt(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function St(n){return Ct(n)||Et(n)||Bt(n)||Nt()}function Tt(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ot(n){var e=Tt(n,"string");return typeof e=="symbol"?e:e+""}function Bt(n,e){if(n){if(typeof n=="string")return fe(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fe(n,e):void 0}}var Ie={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var l=e.indexOf(t);l===-1||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},Ft=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Rt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},q=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},At=function(e){return q(e)&&!e.shiftKey},It=function(e){return q(e)&&e.shiftKey},Pe=function(e){return setTimeout(e,0)},K=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];return typeof e=="function"?e.apply(void 0,a):e},ie=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Pt=[],Lt=function(e,t){var a=(t==null?void 0:t.document)||document,l=(t==null?void 0:t.trapStack)||Pt,r=Ae({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:At,isKeyBackward:It},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,m=function(s,d,h){return s&&s[d]!==void 0?s[d]:r[h||d]},f=function(s,d){var h=typeof(d==null?void 0:d.composedPath)=="function"?d.composedPath():void 0;return o.containerGroups.findIndex(function(y){var w=y.container,N=y.tabbableNodes;return w.contains(s)||(h==null?void 0:h.includes(w))||N.find(function(b){return b===s})})},p=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=d.hasFallback,y=h===void 0?!1:h,w=d.params,N=w===void 0?[]:w,b=r[s];if(typeof b=="function"&&(b=b.apply(void 0,St(N))),b===!0&&(b=void 0),!b){if(b===void 0||b===!1)return b;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var S=b;if(typeof b=="string"){try{S=a.querySelector(b)}catch(T){throw new Error("`".concat(s,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!S&&!y)throw new Error("`".concat(s,"` as selector refers to no known node"))}return S},C=function(){var s=p("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!ce(s,r.tabbableOptions))if(f(a.activeElement)>=0)s=a.activeElement;else{var d=o.tabbableGroups[0],h=d&&d.firstTabbableNode;s=h||p("fallbackFocus")}else s===null&&(s=p("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},O=function(){if(o.containerGroups=o.containers.map(function(s){var d=yt(s,r.tabbableOptions),h=xt(s,r.tabbableOptions),y=d.length>0?d[0]:void 0,w=d.length>0?d[d.length-1]:void 0,N=h.find(function(T){return U(T)}),b=h.slice().reverse().find(function(T){return U(T)}),S=!!d.find(function(T){return L(T)>0});return{container:s,tabbableNodes:d,focusableNodes:h,posTabIndexesFound:S,firstTabbableNode:y,lastTabbableNode:w,firstDomTabbableNode:N,lastDomTabbableNode:b,nextTabbableNode:function(M){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=d.indexOf(M);return I<0?G?h.slice(h.indexOf(M)+1).find(function(H){return U(H)}):h.slice(0,h.indexOf(M)).reverse().find(function(H){return U(H)}):d[I+(G?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(s){return s.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},u=function(s){var d=s.activeElement;if(d)return d.shadowRoot&&d.shadowRoot.activeElement!==null?u(d.shadowRoot):d},v=function(s){if(s!==!1&&s!==u(document)){if(!s||!s.focus){v(C());return}s.focus({preventScroll:!!r.preventScroll}),o.mostRecentlyFocusedNode=s,Ft(s)&&s.select()}},x=function(s){var d=p("setReturnFocus",{params:[s]});return d||(d===!1?!1:s)},A=function(s){var d=s.target,h=s.event,y=s.isBackward,w=y===void 0?!1:y;d=d||ie(h),O();var N=null;if(o.tabbableGroups.length>0){var b=f(d,h),S=b>=0?o.containerGroups[b]:void 0;if(b<0)w?N=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:N=o.tabbableGroups[0].firstTabbableNode;else if(w){var T=o.tabbableGroups.findIndex(function(ve){var pe=ve.firstTabbableNode;return d===pe});if(T<0&&(S.container===d||ce(d,r.tabbableOptions)&&!U(d,r.tabbableOptions)&&!S.nextTabbableNode(d,!1))&&(T=b),T>=0){var M=T===0?o.tabbableGroups.length-1:T-1,G=o.tabbableGroups[M];N=L(d)>=0?G.lastTabbableNode:G.lastDomTabbableNode}else q(h)||(N=S.nextTabbableNode(d,!1))}else{var I=o.tabbableGroups.findIndex(function(ve){var pe=ve.lastTabbableNode;return d===pe});if(I<0&&(S.container===d||ce(d,r.tabbableOptions)&&!U(d,r.tabbableOptions)&&!S.nextTabbableNode(d))&&(I=b),I>=0){var H=I===o.tabbableGroups.length-1?0:I+1,Ue=o.tabbableGroups[H];N=L(d)>=0?Ue.firstTabbableNode:Ue.firstDomTabbableNode}else q(h)||(N=S.nextTabbableNode(d))}}else N=p("fallbackFocus");return N},R=function(s){var d=ie(s);if(!(f(d,s)>=0)){if(K(r.clickOutsideDeactivates,s)){c.deactivate({returnFocus:r.returnFocusOnDeactivate});return}K(r.allowOutsideClick,s)||s.preventDefault()}},oe=function(s){var d=ie(s),h=f(d,s)>=0;if(h||d instanceof Document)h&&(o.mostRecentlyFocusedNode=d);else{s.stopImmediatePropagation();var y,w=!0;if(o.mostRecentlyFocusedNode)if(L(o.mostRecentlyFocusedNode)>0){var N=f(o.mostRecentlyFocusedNode),b=o.containerGroups[N].tabbableNodes;if(b.length>0){var S=b.findIndex(function(T){return T===o.mostRecentlyFocusedNode});S>=0&&(r.isKeyForward(o.recentNavEvent)?S+1<b.length&&(y=b[S+1],w=!1):S-1>=0&&(y=b[S-1],w=!1))}}else o.containerGroups.some(function(T){return T.tabbableNodes.some(function(M){return L(M)>0})})||(w=!1);else w=!1;w&&(y=A({target:o.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(o.recentNavEvent)})),v(y||o.mostRecentlyFocusedNode||C())}o.recentNavEvent=void 0},me=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=s;var h=A({event:s,isBackward:d});h&&(q(s)&&s.preventDefault(),v(h))},X=function(s){(r.isKeyForward(s)||r.isKeyBackward(s))&&me(s,r.isKeyBackward(s))},le=function(s){Rt(s)&&K(r.escapeDeactivates,s)!==!1&&(s.preventDefault(),c.deactivate())},Me=function(s){var d=ie(s);f(d,s)>=0||K(r.clickOutsideDeactivates,s)||K(r.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},De=function(){if(o.active)return Ie.activateTrap(l,c),o.delayInitialFocusTimer=r.delayInitialFocus?Pe(function(){v(C())}):v(C()),a.addEventListener("focusin",oe,!0),a.addEventListener("mousedown",R,{capture:!0,passive:!1}),a.addEventListener("touchstart",R,{capture:!0,passive:!1}),a.addEventListener("click",Me,{capture:!0,passive:!1}),a.addEventListener("keydown",X,{capture:!0,passive:!1}),a.addEventListener("keydown",le),c},je=function(){if(o.active)return a.removeEventListener("focusin",oe,!0),a.removeEventListener("mousedown",R,!0),a.removeEventListener("touchstart",R,!0),a.removeEventListener("click",Me,!0),a.removeEventListener("keydown",X,!0),a.removeEventListener("keydown",le),c},Jt=function(s){var d=s.some(function(h){var y=Array.from(h.removedNodes);return y.some(function(w){return w===o.mostRecentlyFocusedNode})});d&&v(C())},he=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Jt):void 0,z=function(){he&&(he.disconnect(),o.active&&!o.paused&&o.containers.map(function(s){he.observe(s,{subtree:!0,childList:!0})}))};return c={get active(){return o.active},get paused(){return o.paused},activate:function(s){if(o.active)return this;var d=m(s,"onActivate"),h=m(s,"onPostActivate"),y=m(s,"checkCanFocusTrap");y||O(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=a.activeElement,d==null||d();var w=function(){y&&O(),De(),z(),h==null||h()};return y?(y(o.containers.concat()).then(w,w),this):(w(),this)},deactivate:function(s){if(!o.active)return this;var d=Ae({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},s);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,je(),o.active=!1,o.paused=!1,z(),Ie.deactivateTrap(l,c);var h=m(d,"onDeactivate"),y=m(d,"onPostDeactivate"),w=m(d,"checkCanReturnFocus"),N=m(d,"returnFocus","returnFocusOnDeactivate");h==null||h();var b=function(){Pe(function(){N&&v(x(o.nodeFocusedBeforeActivation)),y==null||y()})};return N&&w?(w(x(o.nodeFocusedBeforeActivation)).then(b,b),this):(b(),this)},pause:function(s){if(o.paused||!o.active)return this;var d=m(s,"onPause"),h=m(s,"onPostPause");return o.paused=!0,d==null||d(),je(),z(),h==null||h(),this},unpause:function(s){if(!o.paused||!o.active)return this;var d=m(s,"onUnpause"),h=m(s,"onPostUnpause");return o.paused=!1,d==null||d(),O(),De(),z(),h==null||h(),this},updateContainerElements:function(s){var d=[].concat(s).filter(Boolean);return o.containers=d.map(function(h){return typeof h=="string"?a.querySelector(h):h}),o.active&&O(),z(),this}},c.updateContainerElements(e),c};function Le(n,e,t){const a=i.ref(null);return n&&(a.value=Lt(n,{clickOutsideDeactivates:!e,escapeDeactivates:!e,onDeactivate:()=>t==null?void 0:t(),fallbackFocus:()=>n}),a.value.activate()),{deactivate:()=>{var r;(r=a.value)==null||r.deactivate(),a.value=null},wrapper:n}}const Mt={class:"im-modal-container fixed inset-0 z-40 overflow-y-auto p-4"},Dt=["data-inertiaui-modal-entered"],jt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},Ut={__name:"ModalContent",props:{modalContext:Object,config:Object},emits:["after-leave"],setup(n,{emit:e}){const t=n,a=i.ref(!1),l=i.ref(null);let r=null;const o=e;function c(){var f;r=Le(l.value,(f=t.config)==null?void 0:f.closeExplicitly,()=>t.modalContext.close()).deactivate,a.value=!0}function m(){var f,p;(p=(f=t.modalContext).afterLeave)==null||p.call(f),o("after-leave")}return i.onBeforeUnmount(()=>r==null?void 0:r()),(f,p)=>(i.openBlock(),i.createElementBlock("div",Mt,[i.createElementVNode("div",{class:i.normalizeClass(["im-modal-positioner flex min-h-full justify-center",{"items-start":n.config.position==="top","items-center":n.config.position==="center","items-end":n.config.position==="bottom"}])},[i.createVNode(i.Transition,{appear:"","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",onAfterEnter:c,onAfterLeave:m},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",{ref_key:"wrapper",ref:l,class:i.normalizeClass({"im-modal-wrapper pointer-events-auto w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[i.createElementVNode("div",{class:i.normalizeClass(["im-modal-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":a.value},[n.config.closeButton?(i.openBlock(),i.createElementBlock("div",jt,[i.createVNode(ke,{onClick:n.modalContext.close},null,8,["onClick"])])):i.createCommentVNode("",!0),i.renderSlot(f.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,Dt)],2),[[i.vShow,n.modalContext.isOpen]])]),_:3})],2)]))}},$t={class:"im-slideover-container fixed inset-0 z-40 overflow-y-auto overflow-x-hidden"},Wt=["data-inertiaui-modal-entered"],Vt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},qt={__name:"SlideoverContent",props:{modalContext:Object,config:Object},emits:["after-leave"],setup(n,{emit:e}){const t=n,a=i.ref(!1),l=i.ref(null);let r=null;const o=e;function c(){var f;r=Le(l.value,(f=t.config)==null?void 0:f.closeExplicitly,()=>t.modalContext.close()).deactivate,a.value=!0}function m(){var f,p;(p=(f=t.modalContext).afterLeave)==null||p.call(f),o("after-leave")}return i.onBeforeUnmount(()=>r==null?void 0:r()),(f,p)=>(i.openBlock(),i.createElementBlock("div",$t,[i.createElementVNode("div",{class:i.normalizeClass(["im-slideover-positioner flex min-h-full items-center",{"justify-start rtl:justify-end":n.config.position==="left","justify-end rtl:justify-start":n.config.position==="right"}])},[i.createVNode(i.Transition,{appear:"","enter-from-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),"enter-to-class":"opacity-100 translate-x-0","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),onAfterEnter:c,onAfterLeave:m},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",{ref_key:"wrapper",ref:l,class:i.normalizeClass({"im-slideover-wrapper pointer-events-auto w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[i.createElementVNode("div",{class:i.normalizeClass(["im-slideover-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":a.value},[n.config.closeButton?(i.openBlock(),i.createElementBlock("div",Vt,[i.createVNode(ke,{onClick:n.modalContext.close},null,8,["onClick"])])):i.createCommentVNode("",!0),i.renderSlot(f.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,Wt)],2),[[i.vShow,n.modalContext.isOpen]])]),_:3},8,["enter-from-class","leave-to-class"])],2)]))}},Kt=["data-inertiaui-modal-id","data-inertiaui-modal-index","aria-hidden"],Xt={class:"im-backdrop fixed inset-0 z-30 bg-black/75"},zt={key:1,class:"im-backdrop fixed inset-0 z-30 bg-black/75"},Gt={__name:"Modal",emits:["after-leave","blur","close","focus","success"],setup(n,{expose:e}){const t=i.ref(null),a=i.ref(!1),l=i.ref(!1);return i.watch(()=>t.value,r=>{(r==null?void 0:r.index)===0&&(be.prepare(),l.value=!0)}),i.onBeforeUnmount(()=>{l.value&&be.cleanup()}),e({afterLeave:()=>{var r;return(r=t.value)==null?void 0:r.afterLeave()},close:()=>{var r;return(r=t.value)==null?void 0:r.close()},emit:(...r)=>{var o;return(o=t.value)==null?void 0:o.emit(...r)},getChildModal:()=>{var r;return(r=t.value)==null?void 0:r.getChildModal()},getParentModal:()=>{var r;return(r=t.value)==null?void 0:r.getParentModal()},reload:(...r)=>{var o;return(o=t.value)==null?void 0:o.reload(...r)},setOpen:(...r)=>{var o;return(o=t.value)==null?void 0:o.setOpen(...r)},get config(){var r;return(r=t.value)==null?void 0:r.config},get id(){var r;return(r=t.value)==null?void 0:r.id},get index(){var r;return(r=t.value)==null?void 0:r.index},get isOpen(){var r;return(r=t.value)==null?void 0:r.isOpen},get modalContext(){var r;return(r=t.value)==null?void 0:r.modalContext},get onTopOfStack(){var r;return(r=t.value)==null?void 0:r.onTopOfStack},get shouldRender(){var r;return(r=t.value)==null?void 0:r.shouldRender}}),(r,o)=>(i.openBlock(),i.createBlock(Ce,{ref_key:"modal",ref:t,onSuccess:o[2]||(o[2]=c=>r.$emit("success")),onClose:o[3]||(o[3]=c=>r.$emit("close")),onFocus:o[4]||(o[4]=c=>r.$emit("focus")),onBlur:o[5]||(o[5]=c=>r.$emit("blur"))},{default:i.withCtx(({afterLeave:c,close:m,config:f,emit:p,getChildModal:C,getParentModal:O,id:u,index:v,isOpen:x,modalContext:A,onTopOfStack:R,reload:oe,setOpen:me,shouldRender:X})=>[X?(i.openBlock(),i.createBlock(i.Teleport,{key:0,to:"body"},[i.createElementVNode("div",{"data-inertiaui-modal-id":u,"data-inertiaui-modal-index":v,class:"im-dialog relative z-20","aria-hidden":!R},[v===0&&R?(i.openBlock(),i.createBlock(i.Transition,{key:0,appear:!a.value,"enter-active-class":"transition transform ease-in-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition transform ease-in-out duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onAfterAppear:o[0]||(o[0]=le=>a.value=!0)},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",Xt,null,512),[[i.vShow,x]])]),_:2},1032,["appear"])):i.createCommentVNode("",!0),v>0&&R?(i.openBlock(),i.createElementBlock("div",zt)):i.createCommentVNode("",!0),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(f!=null&&f.slideover?qt:Ut),{"modal-context":A,config:f,onAfterLeave:o[1]||(o[1]=le=>r.$emit("after-leave"))},{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{id:u,afterLeave:c,close:m,config:f,emit:p,getChildModal:C,getParentModal:O,index:v,isOpen:x,modalContext:A,onTopOfStack:R,reload:oe,setOpen:me,shouldRender:X})]),_:2},1064,["modal-context","config"]))],8,Kt)])):i.createCommentVNode("",!0)]),_:3},512))}},Ht={__name:"ModalLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},data:{type:Object,default:()=>({})},as:{type:String,default:"a"},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},navigate:{type:Boolean,default:null},closeButton:{type:Boolean,required:!1,default:null},closeExplicitly:{type:Boolean,required:!1,default:null},maxWidth:{type:String,required:!1,default:null},paddingClasses:{type:[Boolean,String],required:!1,default:null},panelClasses:{type:[Boolean,String],required:!1,default:null},position:{type:String,required:!1,default:null},slideover:{type:Boolean,required:!1,default:null}},emits:["after-leave","blur","close","error","focus","start","success"],setup(n,{emit:e}){const t=n,a=i.ref(!1),l=V(),r=i.ref(null);i.provide("modalContext",r);const o=e,c=i.ref(!1),m=i.computed(()=>t.navigate??J("navigate"));i.watch(()=>{var x;return(x=r.value)==null?void 0:x.onTopOfStack},x=>{r.value&&(x&&c.value?o("focus"):x||o("blur"),c.value=!x)});const f=i.ref(null);i.onBeforeUnmount(()=>{var x;(x=f.value)==null||x.call(f)});const p=i.useAttrs();function C(){f.value=r.value.registerEventListenersFromAttrs(p)}i.watch(r,(x,A)=>{x&&!A&&(C(),o("success"))});function O(){o("close")}function u(){r.value=null,o("after-leave")}function v(){a.value||(t.href.startsWith("#")||(a.value=!0,o("start")),l.visit(t.href,t.method,t.data,t.headers,Xe(ge(t,_e)),O,u,t.queryStringArrayFormat,m.value).then(x=>{r.value=x}).catch(x=>o("error",x)).finally(()=>a.value=!1))}return(x,A)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(n.as),i.mergeProps(i.unref(p),{href:n.href,onClick:i.withModifiers(v,["prevent"])}),{default:i.withCtx(()=>[i.renderSlot(x.$slots,"default",{loading:a.value})]),_:3},16,["href"]))}};function Zt(){return i.toValue(i.inject("modalContext",null))}function Yt(n,e={}){return V().visit(n,e.method??"get",e.data??{},e.headers??{},e.config??{},e.onClose,e.onAfterLeave,e.queryStringArrayFormat??"brackets",e.navigate??J("navigate")).then(t=>{const a=e.listeners??{};return Object.keys(a).forEach(l=>{const r=l.replace(/([A-Z])/g,"-$1").toLowerCase();t.on(r,a[l])}),t})}g.HeadlessModal=Ce,g.Modal=Gt,g.ModalLink=Ht,g.ModalRoot=xe,g.getConfig=J,g.initFromPageProps=He,g.putConfig=qe,g.renderApp=et,g.resetConfig=Ve,g.useModal=Zt,g.visitModal=Yt,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
