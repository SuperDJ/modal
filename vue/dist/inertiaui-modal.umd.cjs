(function(x,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue"),require("@inertiajs/vue3"),require("@inertiajs/core"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3","@inertiajs/core","axios"],i):(x=typeof globalThis<"u"?globalThis:x||self,i(x.InertiaUIModal={},x.vue,x.vue3,x.core,x.Axios))})(this,function(x,i,F,Ue,Z){"use strict";var Qt=Object.defineProperty;var _t=(x,i,F)=>i in x?Qt(x,i,{enumerable:!0,configurable:!0,writable:!0,value:F}):x[i]=F;var B=(x,i,F)=>_t(x,typeof i!="symbol"?i+"":i,F);const U={type:"modal",navigate:!1,modal:{closeButton:!0,closeExplicitly:!1,maxWidth:"2xl",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white rounded",position:"center"},slideover:{closeButton:!0,closeExplicitly:!1,maxWidth:"md",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white min-h-screen",position:"right"}};class We{constructor(){this.config={},this.reset()}reset(){this.config=JSON.parse(JSON.stringify(U))}put(e,t){if(typeof e=="object"){this.config={type:e.type??U.type,navigate:e.navigate??U.navigate,modal:{...U.modal,...e.modal??{}},slideover:{...U.slideover,...e.slideover??{}}};return}const a=e.split(".");let o=this.config;for(let r=0;r<a.length-1;r++)o=o[a[r]]=o[a[r]]||{};o[a[a.length-1]]=t}get(e){if(typeof e>"u")return this.config;const t=e.split(".");let a=this.config;for(const o of t){if(a[o]===void 0)return null;a=a[o]}return a}}const Y=new We,Ve=()=>Y.reset(),qe=(n,e)=>Y.put(n,e),J=n=>Y.get(n),D=(n,e)=>Y.get(n?`slideover.${e}`:`modal.${e}`),be={modifiedElements:[],bodyState:{hasOverflowHidden:!1,originalPaddingRight:""},prepare(){const n=window.innerWidth-document.documentElement.clientWidth;this.bodyState.originalPaddingRight=document.body.style.paddingRight;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10);document.body.style.paddingRight=`${e+n}px`,document.body.classList.contains("overflow-hidden")||(document.body.classList.add("overflow-hidden"),this.bodyState.hasOverflowHidden=!0),Array.from(document.body.children).forEach(t=>{!t.classList.contains("im-dialog")&&t.getAttribute("aria-hidden")!=="true"&&(t.setAttribute("aria-hidden","true"),this.modifiedElements.push(t))})},cleanup(){this.bodyState.hasOverflowHidden&&(document.body.classList.remove("overflow-hidden"),this.bodyState.hasOverflowHidden=!1),document.body.style.paddingRight=this.bodyState.originalPaddingRight,this.bodyState.originalPaddingRight="",this.modifiedElements.forEach(n=>{n.removeAttribute("aria-hidden")}),this.modifiedElements=[]}};function se(n="inertiaui_modal_"){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${n}${crypto.randomUUID()}`:`${n}${Date.now().toString(36)}_${Math.random().toString(36).substr(2,9)}`}function Ke(n,e){return Array.isArray(n)?n.filter(t=>!e.includes(t)):Object.keys(n).reduce((t,a)=>(e.includes(a)||(t[a]=n[a]),t),{})}function ge(n,e){return Array.isArray(n)?n.filter(t=>e.includes(t)):e.reduce((t,a)=>(a in n&&(t[a]=n[a]),t),{})}function Xe(n){return Array.isArray(n)?n.filter(e=>e!==null):Object.keys(n).reduce((e,t)=>(t in n&&n[t]!==null&&(e[t]=n[t]),e),{})}function ze(n,e=3,t=10){return new Promise((a,o)=>{const r=n();if(r){a(r);return}let l=e*1e3/t;const c=setInterval(()=>{const m=n();m&&(clearInterval(c),a(m)),--l<=0&&(clearInterval(c),o(new Error("Condition not met in time")))},t)})}function Q(n){return n?(n=n.replace(/_/g,"-"),n=n.replace(/-+/g,"-"),/[A-Z]/.test(n)?(n=n.replace(/\s+/g,"").replace(/_/g,"").replace(/(?:^|\s|-)+([A-Za-z])/g,(e,t)=>t.toUpperCase()),n=n.replace(/(.)(?=[A-Z])/g,"$1-"),n.toLowerCase()):n):""}const ye={__name:"ModalRenderer",props:{index:{type:Number,required:!0}},setup(n){const e=n,t=V(),a=i.computed(()=>t.stack.value[e.index]);return i.provide("modalContext",a),(o,r)=>{var l;return(l=a.value)!=null&&l.component?(i.openBlock(),i.createBlock(i.unref(a).component,i.mergeProps({key:0},a.value.props,{onModalEvent:r[0]||(r[0]=(c,...m)=>a.value.emit(c,...m))}),null,16)):i.createCommentVNode("",!0)}}},xe={__name:"ModalRoot",setup(n){const e=V(),t=i.ref(!1),a=i.ref(null);i.onUnmounted(F.router.on("start",()=>t.value=!0)),i.onUnmounted(F.router.on("finish",()=>t.value=!1)),i.onUnmounted(F.router.on("navigate",l=>{const c=l.detail.page.props._inertiaui_modal;if(!c){a.value&&e.closeAll();return}a.value=c,e.setBaseUrl(c.baseUrl),e.pushFromResponseData(c,{},()=>{if(!c.baseUrl){console.error("No base url in modal response data so cannot navigate back");return}!t.value&&window.location.href!==c.baseUrl&&F.router.visit(c.baseUrl,{preserveScroll:!0,preserveState:!0})})}));const o=l=>(e.stack.value.length&&(l.headers["X-InertiaUI-Modal-Base-Url"]=e.getBaseUrl()),l);i.onBeforeMount(()=>{Z.interceptors.request.use(o)}),i.onUnmounted(()=>{Z.interceptors.request.eject(o)});const r=F.usePage();return i.watch(()=>{var l;return(l=r.props)==null?void 0:l._inertiaui_modal},(l,c)=>{var m;l&&c&&l.component===c.component&&l.url===c.url&&((m=e.stack.value[0])==null||m.updateProps(l.props??{}))}),(l,c)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.renderSlot(l.$slots,"default"),i.unref(e).stack.value.length?(i.openBlock(),i.createBlock(ye,{key:0,index:0})):i.createCommentVNode("",!0)],64))}};let _=null;const j=i.ref({}),W=i.ref(null),S=i.ref([]),ee=i.ref({}),Ge=n=>{_=n},He=n=>{n.resolveComponent&&(_=n.resolveComponent)};class Ze{constructor(e,t,a,o,r){B(this,"getParentModal",()=>{const e=this.index.value;return e<1?null:S.value.slice(0,e).reverse().find(t=>t.isOpen)});B(this,"getChildModal",()=>{const e=this.index.value;return e===S.value.length-1?null:S.value.slice(e+1).find(t=>t.isOpen)});B(this,"show",()=>{const e=this.index.value;if(e>-1){if(S.value[e].isOpen)return;S.value[e].isOpen=!0,S.value[e].shouldRender=!0}});B(this,"close",()=>{var t;const e=this.index.value;if(e>-1){if(!S.value[e].isOpen)return;Object.keys(this.listeners).forEach(a=>{this.off(a)}),S.value[e].isOpen=!1,(t=this.onCloseCallback)==null||t.call(this),this.onCloseCallback=null}});B(this,"setOpen",e=>{e?this.show():this.close()});B(this,"afterLeave",()=>{var t;const e=this.index.value;if(e>-1){if(S.value[e].isOpen)return;S.value[e].shouldRender=!1,(t=this.afterLeaveCallback)==null||t.call(this),this.afterLeaveCallback=null}e===0&&(S.value=[])});B(this,"on",(e,t)=>{e=Q(e),this.listeners[e]=this.listeners[e]??[],this.listeners[e].push(t)});B(this,"off",(e,t)=>{var a;e=Q(e),t?this.listeners[e]=((a=this.listeners[e])==null?void 0:a.filter(o=>o!==t))??[]:delete this.listeners[e]});B(this,"emit",(e,...t)=>{var a;(a=this.listeners[Q(e)])==null||a.forEach(o=>o(...t))});B(this,"registerEventListenersFromAttrs",e=>{const t=[];return Object.keys(e).filter(a=>a.startsWith("on")).forEach(a=>{const o=Q(a).replace(/^on-/,"");this.on(o,e[a]),t.push(()=>this.off(o,e[a]))}),()=>t.forEach(a=>a())});B(this,"reload",(e={})=>{var a;let t=Object.keys(this.response.props);e.only&&(t=ge(t,e.only)),e.except&&(t=Ke(t,e.except)),(a=this.response)!=null&&a.url&&Z.get(this.response.url,{headers:{Accept:"text/html, application/xhtml+xml","X-Inertia":!0,"X-Inertia-Partial-Component":this.response.component,"X-Inertia-Version":this.response.version,"X-Inertia-Partial-Data":t.join(","),"X-InertiaUI-Modal":se(),"X-InertiaUI-Modal-Use-Router":0,"X-InertiaUI-Modal-Base-Url":W.value}}).then(o=>{this.updateProps(o.data.props)})});B(this,"updateProps",e=>{Object.assign(this.props.value,e)});if(this.id=t.id??se(),this.isOpen=!1,this.shouldRender=!1,this.listeners={},this.component=e,this.props=i.ref(t.props),this.response=t,this.config=a??{},this.onCloseCallback=o,this.afterLeaveCallback=r,j.value[this.id]){this.config={...this.config,...j.value[this.id].config??{}};const l=j.value[this.id].onClose,c=j.value[this.id].onAfterLeave;l&&(this.onCloseCallback=o?()=>{o(),l()}:l),c&&(this.afterLeaveCallback=r?()=>{r(),c()}:c),delete j.value[this.id]}this.index=i.computed(()=>S.value.findIndex(l=>l.id===this.id)),this.onTopOfStack=i.computed(()=>{var c;return S.value.length<2?!0:((c=S.value.map(m=>({id:m.id,shouldRender:m.shouldRender})).reverse().find(m=>m.shouldRender))==null?void 0:c.id)===this.id})}}function Ye(n,e){ee.value[n]={name:n,callback:e}}function Je(n,e,t,a){if(!ee.value[n])throw new Error(`The local modal "${n}" has not been registered.`);const o=de(null,{},e,t,a);return o.name=n,ee.value[n].callback(o),o}function we(n,e={},t=null,a=null){return _(n.component).then(o=>de(i.markRaw(o),n,e,t,a))}function Qe(n,e,t={},a={},o={},r=null,l=null,c="brackets",m=!1){const f=se();return new Promise((p,k)=>{if(n.startsWith("#")){p(Je(n.substring(1),o,r,l));return}const[O,d]=Ue.mergeDataIntoQueryString(e,n||"",t,c);let v=m&&S.value.length===0;if(S.value.length===0&&(W.value=typeof window<"u"?window.location.href:""),a={...a,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,"X-Inertia-Version":F.usePage().version,"X-InertiaUI-Modal":f,"X-InertiaUI-Modal-Use-Router":v?1:0,"X-InertiaUI-Modal-Base-Url":W.value},v)return j.value[f]={config:o,onClose:r,onAfterLeave:l},F.router.visit(O,{method:e,data:d,headers:a,preserveScroll:!0,preserveState:!0,onError:k,onFinish:()=>ze(()=>S.value[0]).then(p)});Z({url:O,method:e,data:d,headers:a}).then(w=>p(we(w.data,o,r,l))).catch(k)})}function de(n,e,t,a,o){const r=new Ze(n,e,t,a,o);return S.value.push(r),i.nextTick(()=>r.show()),r}const _e=["closeButton","closeExplicitly","maxWidth","paddingClasses","panelClasses","position","slideover"],et=(n,e)=>(e.resolveComponent&&(_=e.resolveComponent),()=>i.h(xe,()=>i.h(n,e)));function V(){return{setComponentResolver:Ge,getBaseUrl:()=>W.value,setBaseUrl:n=>W.value=n,stack:i.readonly(S),push:de,pushFromResponseData:we,closeAll:()=>[...S.value].reverse().forEach(n=>n.close()),reset:()=>S.value=[],visit:Qe,registerLocalModal:Ye,removeLocalModal:n=>delete ee.value[n]}}const Ce=Object.assign({inheritAttrs:!1},{__name:"HeadlessModal",props:{name:{type:String,required:!1},slideover:{type:Boolean,default:null},closeButton:{type:Boolean,default:null},closeExplicitly:{type:Boolean,default:null},maxWidth:{type:String,default:null},paddingClasses:{type:[Boolean,String],default:null},panelClasses:{type:[Boolean,String],default:null},position:{type:String,default:null}},emits:["modal-event","focus","blur","close","success"],setup(n,{expose:e,emit:t}){const a=n,o=V(),r=a.name?i.ref({}):i.inject("modalContext"),l=i.computed(()=>{var v;const d=((v=r.value.config)==null?void 0:v.slideover)??a.slideover??J("type")==="slideover";return{slideover:d,closeButton:a.closeButton??D(d,"closeButton"),closeExplicitly:a.closeExplicitly??D(d,"closeExplicitly"),maxWidth:a.maxWidth??D(d,"maxWidth"),paddingClasses:a.paddingClasses??D(d,"paddingClasses"),panelClasses:a.panelClasses??D(d,"panelClasses"),position:a.position??D(d,"position"),...r.value.config}});a.name&&(o.registerLocalModal(a.name,function(d){r.value=d,f()}),i.onBeforeUnmount(()=>{o.removeLocalModal(a.name)})),i.onMounted(()=>{a.name||f()});const c=i.ref(null);i.onBeforeUnmount(()=>{var d;return(d=c.value)==null?void 0:d.call(c)});const m=i.useAttrs();function f(){c.value=r.value.registerEventListenersFromAttrs(m)}const p=t;function k(d,...v){p("modal-event",d,...v)}e({emit:k,afterLeave:()=>{var d;return(d=r.value)==null?void 0:d.afterLeave()},close:()=>{var d;return(d=r.value)==null?void 0:d.close()},reload:(...d)=>{var v;return(v=r.value)==null?void 0:v.reload(...d)},setOpen:(...d)=>{var v;return(v=r.value)==null?void 0:v.setOpen(...d)},getChildModal:()=>{var d;return(d=r.value)==null?void 0:d.getChildModal()},getParentModal:()=>{var d;return(d=r.value)==null?void 0:d.getParentModal()},get config(){var d;return(d=r.value)==null?void 0:d.config},get id(){var d;return(d=r.value)==null?void 0:d.id},get index(){var d;return(d=r.value)==null?void 0:d.index},get isOpen(){var d;return(d=r.value)==null?void 0:d.isOpen},get modalContext(){var d;return(d=r.value)==null?void 0:d.modalContext},get onTopOfStack(){var d;return(d=r.value)==null?void 0:d.onTopOfStack},get shouldRender(){var d;return(d=r.value)==null?void 0:d.shouldRender}}),i.watch(()=>{var d;return(d=r.value)==null?void 0:d.onTopOfStack},(d,v)=>{d&&!v?p("focus"):!d&&v&&p("blur")}),i.watch(()=>{var d;return(d=r.value)==null?void 0:d.isOpen},d=>{p(d?"success":"close")},{immediate:!0});const O=i.computed(()=>{var d;return(d=o.stack.value.find(v=>v.shouldRender&&v.index>r.value.index))==null?void 0:d.index});return(d,v)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.unref(r).shouldRender?i.renderSlot(d.$slots,"default",{key:0,id:i.unref(r).id,afterLeave:i.unref(r).afterLeave,close:i.unref(r).close,config:l.value,emit:k,getChildModal:i.unref(r).getChildModal,getParentModal:i.unref(r).getParentModal,index:i.unref(r).index,isOpen:i.unref(r).isOpen,modalContext:i.unref(r),onTopOfStack:i.unref(r).onTopOfStack,reload:i.unref(r).reload,setOpen:i.unref(r).setOpen,shouldRender:i.unref(r).shouldRender}):i.createCommentVNode("",!0),O.value?(i.openBlock(),i.createBlock(ye,{key:1,index:O.value},null,8,["index"])):i.createCommentVNode("",!0)],64))}}),tt=(n,e)=>{const t=n.__vccOpts||n;for(const[a,o]of e)t[a]=o;return t},nt={},at={class:"im-close-button text-gray-400 hover:text-gray-500"};function rt(n,e){return i.openBlock(),i.createElementBlock("button",at,e[0]||(e[0]=[i.createElementVNode("span",{class:"sr-only"},"Close",-1),i.createElementVNode("svg",{class:"size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[i.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))}const ke=tt(nt,[["render",rt]]);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ee=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],te=Ee.join(","),Se=typeof Element>"u",P=Se?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ne=!Se&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},ae=function n(e,t){var a;t===void 0&&(t=!0);var o=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),r=o===""||o==="true",l=r||t&&e&&n(e.parentNode);return l},it=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Ne=function(e,t,a){if(ae(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(te));return t&&P.call(e,te)&&o.unshift(e),o=o.filter(a),o},Te=function n(e,t,a){for(var o=[],r=Array.from(e);r.length;){var l=r.shift();if(!ae(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),m=c.length?c:l.children,f=n(m,!0,a);a.flatten?o.push.apply(o,f):o.push({scopeParent:l,candidates:f})}else{var p=P.call(l,te);p&&a.filter(l)&&(t||!e.includes(l))&&o.push(l);var k=l.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(l),O=!ae(k,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(l));if(k&&O){var d=n(k===!0?l.children:k.children,!0,a);a.flatten?o.push.apply(o,d):o.push({scopeParent:l,candidates:d})}else r.unshift.apply(r,l.children)}}return o},Oe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},M=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||it(e))&&!Oe(e)?0:e.tabIndex},lt=function(e,t){var a=M(e);return a<0&&t&&!Oe(e)?0:a},ot=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Be=function(e){return e.tagName==="INPUT"},st=function(e){return Be(e)&&e.type==="hidden"},dt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},ut=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},ct=function(e){if(!e.name)return!0;var t=e.form||ne(e),a=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=a(window.CSS.escape(e.name));else try{o=a(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var r=ut(o,e.form);return!r||r===e},ft=function(e){return Be(e)&&e.type==="radio"},mt=function(e){return ft(e)&&!ct(e)},ht=function(e){var t,a=e&&ne(e),o=(t=a)===null||t===void 0?void 0:t.host,r=!1;if(a&&a!==e){var l,c,m;for(r=!!((l=o)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!r&&o;){var f,p,k;a=ne(o),o=(f=a)===null||f===void 0?void 0:f.host,r=!!((p=o)!==null&&p!==void 0&&(k=p.ownerDocument)!==null&&k!==void 0&&k.contains(o))}}return r},Fe=function(e){var t=e.getBoundingClientRect(),a=t.width,o=t.height;return a===0&&o===0},vt=function(e,t){var a=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=P.call(e,"details>summary:first-of-type"),l=r?e.parentElement:e;if(P.call(l,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var m=e.parentElement,f=ne(e);if(m&&!m.shadowRoot&&o(m)===!0)return Fe(e);e.assignedSlot?e=e.assignedSlot:!m&&f!==e.ownerDocument?e=f.host:e=m}e=c}if(ht(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Fe(e);return!1},pt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var o=t.children.item(a);if(o.tagName==="LEGEND")return P.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},re=function(e,t){return!(t.disabled||ae(t)||st(t)||vt(t,e)||dt(t)||pt(t))},ue=function(e,t){return!(mt(t)||M(t)<0||!re(e,t))},bt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gt=function n(e){var t=[],a=[];return e.forEach(function(o,r){var l=!!o.scopeParent,c=l?o.scopeParent:o,m=lt(c,l),f=l?n(o.candidates):c;m===0?l?t.push.apply(t,f):t.push(c):a.push({documentOrder:r,tabIndex:m,item:o,isScope:l,content:f})}),a.sort(ot).reduce(function(o,r){return r.isScope?o.push.apply(o,r.content):o.push(r.content),o},[]).concat(t)},yt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Te([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:bt}):a=Ne(e,t.includeContainer,ue.bind(null,t)),gt(a)},xt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Te([e],t.includeContainer,{filter:re.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Ne(e,t.includeContainer,re.bind(null,t)),a},$=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return P.call(e,te)===!1?!1:ue(t,e)},wt=Ee.concat("iframe").join(","),ce=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return P.call(e,wt)===!1?!1:re(t,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function fe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function Ct(n){if(Array.isArray(n))return fe(n)}function kt(n,e,t){return(e=Ot(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Et(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function St(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function Ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Re(Object(t),!0).forEach(function(a){kt(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function Nt(n){return Ct(n)||Et(n)||Bt(n)||St()}function Tt(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ot(n){var e=Tt(n,"string");return typeof e=="symbol"?e:e+""}function Bt(n,e){if(n){if(typeof n=="string")return fe(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fe(n,e):void 0}}var Ie={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a._setPausedState(!0)}var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Ft=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Rt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},q=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},At=function(e){return q(e)&&!e.shiftKey},It=function(e){return q(e)&&e.shiftKey},Pe=function(e){return setTimeout(e,0)},K=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,a):e},ie=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Pt=[],Mt=function(e,t){var a=(t==null?void 0:t.document)||document,o=(t==null?void 0:t.trapStack)||Pt,r=Ae({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:At,isKeyBackward:It},t),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,m=function(s,u,h){return s&&s[u]!==void 0?s[u]:r[h||u]},f=function(s,u){var h=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return l.containerGroups.findIndex(function(g){var y=g.container,E=g.tabbableNodes;return y.contains(s)||(h==null?void 0:h.includes(y))||E.find(function(b){return b===s})})},p=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.hasFallback,g=h===void 0?!1:h,y=u.params,E=y===void 0?[]:y,b=r[s];if(typeof b=="function"&&(b=b.apply(void 0,Nt(E))),b===!0&&(b=void 0),!b){if(b===void 0||b===!1)return b;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var N=b;if(typeof b=="string"){try{N=a.querySelector(b)}catch(T){throw new Error("`".concat(s,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!N&&!g)throw new Error("`".concat(s,"` as selector refers to no known node"))}return N},k=function(){var s=p("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!ce(s,r.tabbableOptions))if(f(a.activeElement)>=0)s=a.activeElement;else{var u=l.tabbableGroups[0],h=u&&u.firstTabbableNode;s=h||p("fallbackFocus")}else s===null&&(s=p("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},O=function(){if(l.containerGroups=l.containers.map(function(s){var u=yt(s,r.tabbableOptions),h=xt(s,r.tabbableOptions),g=u.length>0?u[0]:void 0,y=u.length>0?u[u.length-1]:void 0,E=h.find(function(T){return $(T)}),b=h.slice().reverse().find(function(T){return $(T)}),N=!!u.find(function(T){return M(T)>0});return{container:s,tabbableNodes:u,focusableNodes:h,posTabIndexesFound:N,firstTabbableNode:g,lastTabbableNode:y,firstDomTabbableNode:E,lastDomTabbableNode:b,nextTabbableNode:function(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=u.indexOf(L);return I<0?G?h.slice(h.indexOf(L)+1).find(function(H){return $(H)}):h.slice(0,h.indexOf(L)).reverse().find(function(H){return $(H)}):u[I+(G?1:-1)]}}}),l.tabbableGroups=l.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(l.containerGroups.find(function(s){return s.posTabIndexesFound})&&l.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},d=function(s){var u=s.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?d(u.shadowRoot):u},v=function(s){if(s!==!1&&s!==d(document)){if(!s||!s.focus){v(k());return}s.focus({preventScroll:!!r.preventScroll}),l.mostRecentlyFocusedNode=s,Ft(s)&&s.select()}},w=function(s){var u=p("setReturnFocus",{params:[s]});return u||(u===!1?!1:s)},A=function(s){var u=s.target,h=s.event,g=s.isBackward,y=g===void 0?!1:g;u=u||ie(h),O();var E=null;if(l.tabbableGroups.length>0){var b=f(u,h),N=b>=0?l.containerGroups[b]:void 0;if(b<0)y?E=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:E=l.tabbableGroups[0].firstTabbableNode;else if(y){var T=l.tabbableGroups.findIndex(function(ve){var pe=ve.firstTabbableNode;return u===pe});if(T<0&&(N.container===u||ce(u,r.tabbableOptions)&&!$(u,r.tabbableOptions)&&!N.nextTabbableNode(u,!1))&&(T=b),T>=0){var L=T===0?l.tabbableGroups.length-1:T-1,G=l.tabbableGroups[L];E=M(u)>=0?G.lastTabbableNode:G.lastDomTabbableNode}else q(h)||(E=N.nextTabbableNode(u,!1))}else{var I=l.tabbableGroups.findIndex(function(ve){var pe=ve.lastTabbableNode;return u===pe});if(I<0&&(N.container===u||ce(u,r.tabbableOptions)&&!$(u,r.tabbableOptions)&&!N.nextTabbableNode(u))&&(I=b),I>=0){var H=I===l.tabbableGroups.length-1?0:I+1,$e=l.tabbableGroups[H];E=M(u)>=0?$e.firstTabbableNode:$e.firstDomTabbableNode}else q(h)||(E=N.nextTabbableNode(u))}}else E=p("fallbackFocus");return E},R=function(s){var u=ie(s);if(!(f(u,s)>=0)){if(K(r.clickOutsideDeactivates,s)){c.deactivate({returnFocus:r.returnFocusOnDeactivate});return}K(r.allowOutsideClick,s)||s.preventDefault()}},le=function(s){var u=ie(s),h=f(u,s)>=0;if(h||u instanceof Document)h&&(l.mostRecentlyFocusedNode=u);else{s.stopImmediatePropagation();var g,y=!0;if(l.mostRecentlyFocusedNode)if(M(l.mostRecentlyFocusedNode)>0){var E=f(l.mostRecentlyFocusedNode),b=l.containerGroups[E].tabbableNodes;if(b.length>0){var N=b.findIndex(function(T){return T===l.mostRecentlyFocusedNode});N>=0&&(r.isKeyForward(l.recentNavEvent)?N+1<b.length&&(g=b[N+1],y=!1):N-1>=0&&(g=b[N-1],y=!1))}}else l.containerGroups.some(function(T){return T.tabbableNodes.some(function(L){return M(L)>0})})||(y=!1);else y=!1;y&&(g=A({target:l.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(l.recentNavEvent)})),v(g||l.mostRecentlyFocusedNode||k())}l.recentNavEvent=void 0},me=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;l.recentNavEvent=s;var h=A({event:s,isBackward:u});h&&(q(s)&&s.preventDefault(),v(h))},X=function(s){(r.isKeyForward(s)||r.isKeyBackward(s))&&me(s,r.isKeyBackward(s))},oe=function(s){Rt(s)&&K(r.escapeDeactivates,s)!==!1&&(s.preventDefault(),c.deactivate())},Le=function(s){var u=ie(s);f(u,s)>=0||K(r.clickOutsideDeactivates,s)||K(r.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},De=function(){if(l.active)return Ie.activateTrap(o,c),l.delayInitialFocusTimer=r.delayInitialFocus?Pe(function(){v(k())}):v(k()),a.addEventListener("focusin",le,!0),a.addEventListener("mousedown",R,{capture:!0,passive:!1}),a.addEventListener("touchstart",R,{capture:!0,passive:!1}),a.addEventListener("click",Le,{capture:!0,passive:!1}),a.addEventListener("keydown",X,{capture:!0,passive:!1}),a.addEventListener("keydown",oe),c},je=function(){if(l.active)return a.removeEventListener("focusin",le,!0),a.removeEventListener("mousedown",R,!0),a.removeEventListener("touchstart",R,!0),a.removeEventListener("click",Le,!0),a.removeEventListener("keydown",X,!0),a.removeEventListener("keydown",oe),c},Jt=function(s){var u=s.some(function(h){var g=Array.from(h.removedNodes);return g.some(function(y){return y===l.mostRecentlyFocusedNode})});u&&v(k())},he=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Jt):void 0,z=function(){he&&(he.disconnect(),l.active&&!l.paused&&l.containers.map(function(s){he.observe(s,{subtree:!0,childList:!0})}))};return c={get active(){return l.active},get paused(){return l.paused},activate:function(s){if(l.active)return this;var u=m(s,"onActivate"),h=m(s,"onPostActivate"),g=m(s,"checkCanFocusTrap");g||O(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=a.activeElement,u==null||u();var y=function(){g&&O(),De(),z(),h==null||h()};return g?(g(l.containers.concat()).then(y,y),this):(y(),this)},deactivate:function(s){if(!l.active)return this;var u=Ae({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},s);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,je(),l.active=!1,l.paused=!1,z(),Ie.deactivateTrap(o,c);var h=m(u,"onDeactivate"),g=m(u,"onPostDeactivate"),y=m(u,"checkCanReturnFocus"),E=m(u,"returnFocus","returnFocusOnDeactivate");h==null||h();var b=function(){Pe(function(){E&&v(w(l.nodeFocusedBeforeActivation)),g==null||g()})};return E&&y?(y(w(l.nodeFocusedBeforeActivation)).then(b,b),this):(b(),this)},pause:function(s){return l.active?(l.manuallyPaused=!0,this._setPausedState(!0,s)):this},unpause:function(s){return l.active?(l.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,s)):this},updateContainerElements:function(s){var u=[].concat(s).filter(Boolean);return l.containers=u.map(function(h){return typeof h=="string"?a.querySelector(h):h}),l.active&&O(),z(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return l.manuallyPaused}},_setPausedState:{value:function(s,u){if(l.paused===s)return this;if(l.paused=s,s){var h=m(u,"onPause"),g=m(u,"onPostPause");h==null||h(),je(),z(),g==null||g()}else{var y=m(u,"onUnpause"),E=m(u,"onPostUnpause");y==null||y(),O(),De(),z(),E==null||E()}return this}}}),c.updateContainerElements(e),c};function Me(n,e,t){const a=i.ref(null);return n&&(a.value=Mt(n,{clickOutsideDeactivates:!e,escapeDeactivates:!e,onDeactivate:()=>t==null?void 0:t(),fallbackFocus:()=>n}),a.value.activate()),{deactivate:()=>{var r;(r=a.value)==null||r.deactivate(),a.value=null},wrapper:n}}const Lt={class:"im-modal-container fixed inset-0 z-40 overflow-y-auto p-4"},Dt=["data-inertiaui-modal-entered"],jt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},$t={__name:"ModalContent",props:{modalContext:Object,config:Object},emits:["after-leave"],setup(n,{emit:e}){const t=n,a=i.ref(!1),o=i.ref(null);let r=null;const l=e;function c(){var f;r=Me(o.value,(f=t.config)==null?void 0:f.closeExplicitly,()=>t.modalContext.close()).deactivate,a.value=!0}function m(){var f,p;(p=(f=t.modalContext).afterLeave)==null||p.call(f),l("after-leave")}return i.onBeforeUnmount(()=>r==null?void 0:r()),(f,p)=>(i.openBlock(),i.createElementBlock("div",Lt,[i.createElementVNode("div",{class:i.normalizeClass(["im-modal-positioner flex min-h-full justify-center",{"items-start":n.config.position==="top","items-center":n.config.position==="center","items-end":n.config.position==="bottom"}])},[i.createVNode(i.Transition,{appear:"","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",onAfterEnter:c,onAfterLeave:m},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",{ref_key:"wrapper",ref:o,class:i.normalizeClass({"im-modal-wrapper w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[i.createElementVNode("div",{class:i.normalizeClass(["im-modal-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":a.value},[n.config.closeButton?(i.openBlock(),i.createElementBlock("div",jt,[i.createVNode(ke,{onClick:n.modalContext.close},null,8,["onClick"])])):i.createCommentVNode("",!0),i.renderSlot(f.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,Dt)],2),[[i.vShow,n.modalContext.isOpen]])]),_:3})],2)]))}},Ut={class:"im-slideover-container fixed inset-0 z-40 overflow-y-auto overflow-x-hidden"},Wt=["data-inertiaui-modal-entered"],Vt={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},qt={__name:"SlideoverContent",props:{modalContext:Object,config:Object},emits:["after-leave"],setup(n,{emit:e}){const t=n,a=i.ref(!1),o=i.ref(null);let r=null;const l=e;function c(){var f;r=Me(o.value,(f=t.config)==null?void 0:f.closeExplicitly,()=>t.modalContext.close()).deactivate,a.value=!0}function m(){var f,p;(p=(f=t.modalContext).afterLeave)==null||p.call(f),l("after-leave")}return i.onBeforeUnmount(()=>r==null?void 0:r()),(f,p)=>(i.openBlock(),i.createElementBlock("div",Ut,[i.createElementVNode("div",{class:i.normalizeClass(["im-slideover-positioner flex min-h-full items-center",{"justify-start rtl:justify-end":n.config.position==="left","justify-end rtl:justify-start":n.config.position==="right"}])},[i.createVNode(i.Transition,{appear:"","enter-from-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),"enter-to-class":"opacity-100 translate-x-0","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),onAfterEnter:c,onAfterLeave:m},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",{ref_key:"wrapper",ref:o,class:i.normalizeClass({"im-slideover-wrapper w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"})},[i.createElementVNode("div",{class:i.normalizeClass(["im-slideover-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":a.value},[n.config.closeButton?(i.openBlock(),i.createElementBlock("div",Vt,[i.createVNode(ke,{onClick:n.modalContext.close},null,8,["onClick"])])):i.createCommentVNode("",!0),i.renderSlot(f.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,Wt)],2),[[i.vShow,n.modalContext.isOpen]])]),_:3},8,["enter-from-class","leave-to-class"])],2)]))}},Kt=["data-inertiaui-modal-id","data-inertiaui-modal-index","aria-hidden"],Xt={class:"im-backdrop fixed inset-0 z-30 bg-black/75"},zt={key:1,class:"im-backdrop fixed inset-0 z-30 bg-black/75"},Gt={__name:"Modal",emits:["after-leave","blur","close","focus","success"],setup(n,{expose:e}){const t=i.ref(null),a=i.ref(!1),o=i.ref(!1);return i.watch(()=>t.value,r=>{(r==null?void 0:r.index)===0&&(be.prepare(),o.value=!0)}),i.onBeforeUnmount(()=>{o.value&&be.cleanup()}),e({afterLeave:()=>{var r;return(r=t.value)==null?void 0:r.afterLeave()},close:()=>{var r;return(r=t.value)==null?void 0:r.close()},emit:(...r)=>{var l;return(l=t.value)==null?void 0:l.emit(...r)},getChildModal:()=>{var r;return(r=t.value)==null?void 0:r.getChildModal()},getParentModal:()=>{var r;return(r=t.value)==null?void 0:r.getParentModal()},reload:(...r)=>{var l;return(l=t.value)==null?void 0:l.reload(...r)},setOpen:(...r)=>{var l;return(l=t.value)==null?void 0:l.setOpen(...r)},get config(){var r;return(r=t.value)==null?void 0:r.config},get id(){var r;return(r=t.value)==null?void 0:r.id},get index(){var r;return(r=t.value)==null?void 0:r.index},get isOpen(){var r;return(r=t.value)==null?void 0:r.isOpen},get modalContext(){var r;return(r=t.value)==null?void 0:r.modalContext},get onTopOfStack(){var r;return(r=t.value)==null?void 0:r.onTopOfStack},get shouldRender(){var r;return(r=t.value)==null?void 0:r.shouldRender}}),(r,l)=>(i.openBlock(),i.createBlock(Ce,{ref_key:"modal",ref:t,onSuccess:l[2]||(l[2]=c=>r.$emit("success")),onClose:l[3]||(l[3]=c=>r.$emit("close")),onFocus:l[4]||(l[4]=c=>r.$emit("focus")),onBlur:l[5]||(l[5]=c=>r.$emit("blur"))},{default:i.withCtx(({afterLeave:c,close:m,config:f,emit:p,getChildModal:k,getParentModal:O,id:d,index:v,isOpen:w,modalContext:A,onTopOfStack:R,reload:le,setOpen:me,shouldRender:X})=>[X?(i.openBlock(),i.createBlock(i.Teleport,{key:0,to:"body"},[i.createElementVNode("div",{"data-inertiaui-modal-id":d,"data-inertiaui-modal-index":v,class:"im-dialog relative z-20","aria-hidden":!R},[v===0&&R?(i.openBlock(),i.createBlock(i.Transition,{key:0,appear:!a.value,"enter-active-class":"transition transform ease-in-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition transform ease-in-out duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onAfterAppear:l[0]||(l[0]=oe=>a.value=!0)},{default:i.withCtx(()=>[i.withDirectives(i.createElementVNode("div",Xt,null,512),[[i.vShow,w]])]),_:2},1032,["appear"])):i.createCommentVNode("",!0),v>0&&R?(i.openBlock(),i.createElementBlock("div",zt)):i.createCommentVNode("",!0),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(f!=null&&f.slideover?qt:$t),{"modal-context":A,config:f,onAfterLeave:l[1]||(l[1]=oe=>r.$emit("after-leave"))},{default:i.withCtx(()=>[i.renderSlot(r.$slots,"default",{id:d,afterLeave:c,close:m,config:f,emit:p,getChildModal:k,getParentModal:O,index:v,isOpen:w,modalContext:A,onTopOfStack:R,reload:le,setOpen:me,shouldRender:X})]),_:2},1064,["modal-context","config"]))],8,Kt)])):i.createCommentVNode("",!0)]),_:3},512))}},Ht={__name:"ModalLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},data:{type:Object,default:()=>({})},as:{type:String,default:"a"},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},navigate:{type:Boolean,default:null},closeButton:{type:Boolean,required:!1,default:null},closeExplicitly:{type:Boolean,required:!1,default:null},maxWidth:{type:String,required:!1,default:null},paddingClasses:{type:[Boolean,String],required:!1,default:null},panelClasses:{type:[Boolean,String],required:!1,default:null},position:{type:String,required:!1,default:null},slideover:{type:Boolean,required:!1,default:null}},emits:["after-leave","blur","close","error","focus","start","success"],setup(n,{emit:e}){const t=n,a=i.ref(!1),o=V(),r=i.ref(null);i.provide("modalContext",r);const l=e,c=i.ref(!1),m=i.computed(()=>t.navigate??J("navigate"));i.watch(()=>{var w;return(w=r.value)==null?void 0:w.onTopOfStack},w=>{r.value&&(w&&c.value?l("focus"):w||l("blur"),c.value=!w)});const f=i.ref(null);i.onBeforeUnmount(()=>{var w;(w=f.value)==null||w.call(f)});const p=i.useAttrs();function k(){f.value=r.value.registerEventListenersFromAttrs(p)}i.watch(r,(w,A)=>{w&&!A&&(k(),l("success"))});function O(){l("close")}function d(){r.value=null,l("after-leave")}function v(){a.value||(t.href.startsWith("#")||(a.value=!0,l("start")),o.visit(t.href,t.method,t.data,t.headers,Xe(ge(t,_e)),O,d,t.queryStringArrayFormat,m.value).then(w=>{r.value=w}).catch(w=>l("error",w)).finally(()=>a.value=!1))}return(w,A)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(n.as),i.mergeProps(i.unref(p),{href:n.href,onClick:i.withModifiers(v,["prevent"])}),{default:i.withCtx(()=>[i.renderSlot(w.$slots,"default",{loading:a.value})]),_:3},16,["href"]))}};function Zt(){return i.toValue(i.inject("modalContext",null))}function Yt(n,e={}){return V().visit(n,e.method??"get",e.data??{},e.headers??{},e.config??{},e.onClose,e.onAfterLeave,e.queryStringArrayFormat??"brackets",e.navigate??J("navigate")).then(t=>{const a=e.listeners??{};return Object.keys(a).forEach(o=>{const r=o.replace(/([A-Z])/g,"-$1").toLowerCase();t.on(r,a[o])}),t})}x.HeadlessModal=Ce,x.Modal=Gt,x.ModalLink=Ht,x.ModalRoot=xe,x.getConfig=J,x.initFromPageProps=He,x.putConfig=qe,x.renderApp=et,x.resetConfig=Ve,x.useModal=Zt,x.visitModal=Yt,Object.defineProperty(x,Symbol.toStringTag,{value:"Module"})});
